<style id="antiClickjack">body {
        display: none !important;
    }</style> <script type="text/javascript">if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
        top.location = self.location;
    }</script> <div class="container" ng-controller="IGDocumentListCtrl" ng-init="initIGDocuments()"> <div class="row" ng-show="isAuthenticated()"> <!--<div class="row">--> <div ng-show="!isPending()"> <!--<div class="page-header">--> <!--<h5> Hello, <span ng-bind="getFullName()"></span></h5>--> <!--</div>--> <br> <tabset> <tab active="accordi.igList" select="selectIgTab(0)"> <tab-heading> <i class="fa fa-file-text-o fa-fw"></i> IG Documents List </tab-heading> <div ng-include="'views/edit/listIG.html'"></div> </tab> <tab active="accordi.igDetails" select="selectIgTab(1)" ng-if="igdocument&&igdocument!==null"> <tab-heading> <span ng-if="!viewSettings.tableReadonly"> <i class="fa fa-pencil fa-fw"></i>IG Document</span> <span ng-if="viewSettings.tableReadonly"> <i class="fa fa-search fa-fw"></i>IG Document</span> </tab-heading> <div ng-include="'views/edit/editIG.html'"></div> </tab> </tabset> <!--<accordion close-others="false">--> <!--<accordion-group is-open="accordi.igList" panel-class="panel-primary">--> <!--<accordion-heading>--> <!--<i class="fa" ng-class="{'fa-caret-down': accordi.igList, 'fa-caret-right': !accordi.igList}"></i>--> <!--<i class="fa fa-file-text-o fa-fw"></i> IG Documents List--> <!--</accordion-heading>--> <!--&lt;!&ndash;<div class="panel panel-info">&ndash;&gt;--> <!--&lt;!&ndash;<div class="panel-body">&ndash;&gt;--> <!--<div ng-include="'views/edit/listIG.html'"></div>--> <!--&lt;!&ndash;</div>&ndash;&gt;--> <!--&lt;!&ndash;</div>&ndash;&gt;--> <!--</accordion-group>--> <!--<accordion-group is-open="accordi.igDetails" panel-class="panel-primary">--> <!--<accordion-heading>--> <!--<i class="fa"--> <!--ng-class="{'fa-caret-down': accordi.igDetails, 'fa-caret-right': !accordi.igDetails}"></i>--> <!--<i class="fa fa-pencil fa-fw"></i>Edit IG Document : {{igdocument.metaData.title}}--> <!--</accordion-heading>--> <!--&lt;!&ndash;<div class="panel panel-info">&ndash;&gt;--> <!--&lt;!&ndash;<div class="panel-body">&ndash;&gt;--> <!--<div ng-include="'views/edit/editIG.html'"></div>--> <!--&lt;!&ndash;</div>&ndash;&gt;--> <!--&lt;!&ndash;</div>&ndash;&gt;--> <!--</accordion-group>--> <!--</accordion>--> </div> <div style="font-size: 18px;text-align: center" ng-show="isPending()"> <div msg key="account.pendingSection"></div> </div> </div> <div ng-show="!isAuthenticated()" style="font-size: 18px;text-align: center;margin:auto"> <p>Please <a href="" ng-click="loginReq()"><i class="fa fa-sign-in"></i>&nbsp;login</a> to access this page. You can also <a href="#/registration"><i class="fa fa-chevron-circle-right"></i>&nbsp;register</a></p> </div> <script type="text/ng-template" id="hl7VersionsDlg.html"><form id="hl7VersionsDlgForm" name="hl7VersionsDlgForm" class="form-horizontal">

            <div class="modal-header modal-wide">
                <div class="form-inline">
                    <span class="header4" style="color:white;">Create IG Document</span>

                    <button ng-show="clickSource === 'btn'" class="btn btn-raised btn-info btn-xs pull-right" type="button" ng-click="ok()" ng-disabled="okDisabled || hl7VersionsDlgForm.$invalid">
                    <i class="fa fa-check"></i>Submit
                </button>
                    <button ng-show="clickSource === 'ctx'" class="btn btn-raised btn-info btn-xs pull-right" type="button" ng-click="ok()" ng-disabled="okDisabled">
                    <i class="fa fa-check"></i>Submit
                </button>
                    <button class="btn btn-raised btn-default btn-xs pull-right" type="button" ng-click="cancel()">
                    <i class="fa fa-times"></i>Cancel
                </button>
                </div>
            </div>
            <div class="modal-body">
                <!--<div class="col-md-12">
                        <div class="btn-group btn-group-sm pull-left" data-toggle="buttons">
                            <label class="btn btn-raised btn-info btn-xs"
                                   ng-click="loadIGDocumentsByVersion(hl7Version)"
                                   ng-class="{ 'active':vr===selectedHL7Version}" ng-repeat="vr in hl7Versions">
                                <input type="radio" ng-value="vr" ng-model="hl7Version">{{vr}}</input>
                            </label>
                        </div>
                </div>-->

                <div class="col-md-12">
                    <div ng-show="clickSource === 'btn'" ng-class="{'igl-has-error has-feedback' : hl7VersionsDlgForm.hl7Version.$invalid}">
                        <label class="col-md-2 control-label" style="text-align: left">HL7 Version*:</label>

                        <div class="col-md-3">
                            <select class="form-control" name="hl7Version" id="hl7Version" ng-change="loadIGDocumentsByVersion()" ng-disabled="loading || igdocument" required ng-model="hl7Version" ng-options="vr for vr in hl7Versions" />
                        </div>
                    </div>

                    <!--<div class="col-md-12">-->
                    <!--<h4 class="modal-title">Select HL7 Version</h4>-->
                    <!--</div>-->
                    <!--<div class="col-md-12">-->
                    <!--<div ng-show="!igdocument" class="btn-group btn-group-sm pull-left" data-toggle="buttons">-->
                    <!--<label class="btn btn-raised btn-primary btn-xs"-->
                    <!--ng-click="$parent.hl7Version = vr; loadIGDocumentsByVersion()"-->
                    <!--ng-class="{'active':vr === hl7Version}" ng-repeat="vr in hl7Versions">-->
                    <!--<input ng-disabled="loading" type="radio" ng-value="vr" ng-model="$parent.hl7Version">{{vr}}-->
                    <!--</label>-->
                    <!--</div>-->
                    <!--</div>-->
                </div>



                <accordion ng-show="hl7Version">
                    <div accordion-group class="panel-primary" is-open="status.isFirstOpen" ng-show="clickSource==='btn'">
                        <accordion-heading>
                            <span style="color:white;"> IG Document Metadata</span> <i class="pull-left fa" style="color:white;" ng-class="{'fa-chevron-down': status.isFirstOpen, 'fa-chevron-right': !status.isFirstOpen}"></i>
                        </accordion-heading>
                        <div class="row">
                            <!--<div class="row">
                                <label for="example-version-input" class="col-xs-2 col-form-label">HL7 Version*</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" ng-model="hl7Version" disabled>

                                </div>
                            </div>-->
                            <div class=" row" style="padding-top:5px">
                                <label for="example-text-input" class="col-xs-2 col-form-label">Title*</label>
                                <div class="col-xs-10">
                                    <input class="form-control form-control-xs" type="text" ng-model="hl7VersionsDlgForm.metaData.title" required>
                                </div>
                            </div>
                            <div class=" row">
                                <label for="example-search-input" class="col-xs-2 col-form-label">Sub-Title</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.subTitle">
                                </div>
                            </div>
                            <div class=" row">
                                <label for="example-email-input" class="col-xs-2 col-form-label">Organization</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.orgName">
                                </div>
                            </div>
                            <div class="row">
                                <label for="example-url-input" class="col-xs-2 col-form-label">Extension</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.ext">
                                </div>
                            </div>
                            <div class="row">
                                <label for="example-tel-input" class="col-xs-2 col-form-label">Specification</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.specificationName">
                                </div>
                            </div>
                            <div class="row">
                                <label for="example-password-input" class="col-xs-2 col-form-label">Status</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.status">
                                </div>
                            </div>
                            <div class="row">
                                <label for="example-number-input" class="col-xs-2 col-form-label">Topics</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.topics">
                                </div>
                            </div>

                        </div>
                    </div>
                    <div accordion-group class="panel-primary" is-open="status.isSecondOpen">
                        <accordion-heading>
                            <span style="color:white;"> List of Events*</span> <i class="pull-left fa" style="color:white;" ng-class="{'fa-chevron-down': status.isSecondOpen, 'fa-chevron-right': !status.isSecondOpen}"></i>
                        </accordion-heading>
                        <div class="row" style="overflow-x:scroll;margin-left:20px">
                             <div class="input-group">
                                <span class="input-group-addon">Selected Messages:</span>
                                <span ng-repeat="event in eventList" class="label label-primary">{{event.name}}^{{event.parentStructId}} <i class="fa fa-times" aria-hidden="true" ng-click="trackSelections(false, event)"></i></span>
                            </div>
                        </div>
                        <div class="row" style="margin-left:20px">
                            <div ng-show="loading" style="text-align:center">
                                <i class="fa fa-spinner fa-pulse fa-2x"></i>
                            </div>
                            <div ng-show="!loading">
                                <div class="table-responsive">
                                    <table tt-table tt-params="messageEventsParams" ng-if="messageEventsParams" class="table table-striped table-bordered table-fix-header table-condensed hl7-versions-table">
                                        <thead>
                                            <tr class="tbl-header">
                                                <td class="" style="width:300px">Struct ID</td>
                                                <td class="" style="width:300px">Event ID</td>
                                                <td class="" style="width:600px">Description</td>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </accordion>

            </div>
            <div class="modal-footer">

            </div>
        </form></script> <script type="text/ng-template" id="MessageEventsNode.html"><tr tt-node is-branch="node.type === 'message'">
             <td class=""  style="width:300px;color:black"><span ng-bind="::node.name" ng-show="node.type === 'message'" style="margin-left : 7px;"></span></td>
            <td class="" style="width:300px;color:black">

                <input ng-show="node.type === 'event'" type="checkbox" ng-model="bool" ng-checked="isChecked(node)" ng-click="trackSelections(bool, node)"></input><span ng-show="node.type === 'event'" ng-bind="::node.name" style="margin-left : 7px;"></span>
            </td>

            <td class="" style="width:585px;color:black" ng-bind="::node.description"></td>

    </tr></script> <script type="text/ng-template" id="ConfirmIGDocumentDeleteCtrl.html"><div class="modal-header">
        <h3 class="modal-title">Delete Confirmation
        </h3>
    </div>
    <div class="modal-body">

        <p>Are you sure you want to delete the IG Document:"{{igdocumentToDelete.metaData.title}}"  ? This operation is irreversible</p>
    </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-default btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
        <button class="btn btn-raised btn-danger btn-sm" ng-disabled="loading" ng-click="delete()"><span><i
                class="fa fa-trash-o fa-fw">&nbsp; </i>Delete</span>
        </button>
        <div ng-show="loading" style="text-align:center;padding-top:20px; padding-bottom:20px">
            <img class="ajax-loading" ng-src="images/ajax-loader.gif" alt="loading..."/>
        </div>
    </div>
    </div></script> <script type="text/ng-template" id="ConfirmIGDocumentCloseCtrl.html"><div class="modal-header">
        <h3 class="modal-title">Close Confirmation
        </h3>
    </div>
    <div class="modal-body">
        <p>You currently have unsaved changes. Are you sure you want to close the igdocument ? All unsaved changes will
            be lost</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-default btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm" ng-disabled="loading" ng-click="discardChangesAndClose()"><span><i
                class="fa fa-times-circle fa-fw">&nbsp; </i>Discard Changes</span>
        </button>
        <button class="btn btn-raised btn-primary btn-sm" ng-disabled="loading" ng-click="saveChangesAndClose()"><span><i
                class="fa fa-check-circle fa-fw">&nbsp; </i>Apply Changes</span>
        </button>
        <div ng-show="loading" style="text-align:center;padding-top:20px; padding-bottom:20px">
            <img class="ajax-loading" ng-src="images/ajax-loader.gif" alt="loading..."/>
        </div>
    </div></script> <script type="text/ng-template" id="ConfirmIGDocumentOpenCtrl.html"><div class="modal-header">
        <h3 class="modal-title">Open Confirmation
        </h3>
    </div>
    <div class="modal-body">
        <p>You currently have an open IG document with unsaved changes. Are you sure you want to open the IG document ?
            All unsaved changes will be lost</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-default btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm" ng-disabled="loading" ng-click="discardChangesAndOpen()"><span><i
                class="fa fa-times-circle fa-fw">&nbsp; </i>Discard Changes</span>
        </button>
        <button class="btn btn-raised btn-primary btn-sm" ng-disabled="loading" ng-click="saveChangesAndOpen()"><span><i
                class="fa fa-check-circle fa-fw">&nbsp; </i>Apply Changes</span>
        </button>
        <div ng-show="loading" style="text-align:center;padding-top:20px; padding-bottom:20px">
            <img class="ajax-loading" ng-src="images/ajax-loader.gif" alt="loading..."/>
        </div>
    </div></script> <script type="text/ng-template" id="RichTextCtrl.html"><div class="modal-header modal-wide">
        <h3 class="modal-title">{{editorTarget.obj.position}} . {{editorTarget.obj.name}} :
            {{editorTarget.title}}</h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">
                <div ng-if="!editorTarget.disabled">
                    <textarea rows="10" froala="froalaEditorOptions" style="width:100%;" autofocus ng-model="editorTarget.obj[editorTarget.key]"
                              id="globalEditor" name="content" ng-change="recordChanged()"></textarea>
                </div>
                <div ng-if="editorTarget.disabled" style="width:100%;">
                    <div froala-view="editorTarget.obj[editorTarget.key]"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-md" ng-click="close()"><span><i class="fa fa-times fa-fw">
            &nbsp; </i>Close</span>
        </button>
    </div></script> <script type="text/ng-template" id="SelectMessagesForExportCtrl.html"><div class="page-header">
        <h2 class="modal-title">Export XML</h2>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="row">
                <div class="col-md-12">
                    <h4 class="modal-title">Select Export Format</h4>
                </div>
                <div class="col-md-12">
                    <div class="btn-group btn-group-sm pull-left" data-toggle="buttons">
                        <label class="btn btn-raised btn-primary btn-xs" ng-click="xmlFormat='Validation'"
                               ng-class="{ 'active':xmlFormat==='Validation' }">
                            NIST
                            Validation Format
                        </label>
                        <label class="btn btn-raised btn-primary btn-xs" ng-click="xmlFormat='Display'"
                               ng-class="{ 'active':xmlFormat==='Display' }">
                             NIST
                            Display Format
                        </label>
                        <label class="btn btn-raised btn-primary btn-xs" ng-click="xmlFormat='Gazelle'"
                               ng-class="{ 'active':xmlFormat==='Gazelle' }">
                           Gazelle
                            Format
                        </label>
                    </div>
                </div>
                <div class="col-md-12">
                    <h4 class="modal-title">Select Conformance Profile(s)</h4>

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-fix-header table-condensed conformance-profiles-table">
                            <thead>
                            <tr class="tbl-header">
                                <th style="width:30px">&nbsp;</th>
                                <th style="width:150px">ID</th>
                                <th style="width:300px">Name</th>
                                <th style="width:420px">Description</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="message in igdocumentToSelect.profile.messages.children track by message.id">
                                <td style="width:30px">
                                    <input type="checkbox" ng-model="bool"
                                           ng-change="trackSelections(bool, message.id)">
                                </td>
                                <td style="width:150px">{{message.identifier}}</td>
                                <td style="width:300px">{{message.name}}</td>
                                <td style="width:405px">{{message.description}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm"
                ng-disabled="xmlFormat==='' || xmlFormat===n ull || selectedMessagesIDs===n ull || selectedMessagesIDs.length===0"
                ng-click="exportAsZIPforSelectedMessages()"><span><i class="fa fa-download fa-fw"></i>Export</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
        <div ng-show="loading" style="text-align:center;padding-top:20px; padding-bottom:20px">
            <img class="ajax-loading" ng-src="images/ajax-loader.gif" alt="loading..."/>
        </div>
    </div></script> <script type="text/ng-template" id="AddHL7TableOpenCtrl.html"><div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Add HL7 Tables</span>
        </div>
    </div>
        <div class="modal-body">
            <form class="form-horizontal" novalidate>
                <div class="row">
                    <div class="col-md-12">
                        <div class="btn-group btn-group-sm pull-left" data-toggle="buttons">
                            <label class="btn btn-raised btn-info btn-xs"
                                   ng-click="selectedHL7Version=vr; loadTablesByVersion(vr)"
                                   ng-class="{ 'active':vr===selectedHL7Version}" ng-repeat="vr in hl7Versions">
                                <input type="radio" ng-value="vr" ng-model="$parent.selectedHL7Version">{{vr}}</input>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-6" ng-show="selectedHL7Version !==''">
                        <div ng-show="loading" style="text-align:center">
                            <i class="fa fa-spinner fa-pulse fa-2x"></i>
                        </div>
                        <div ng-show="!loading" class="igl-table">
                            <h5>Tables for {{source}} {{selectedHL7Version}}</h5>
                            <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                <thead>
                                <tr class="tbl-header">
                                    <th>Binding Identifier</th>
                                    <th>Name</th>
                                    <th/>
                                </tr>
                                <tr>
                                    <th>
                                        <input ng-model="search.bindingIdentifier" class="form-control" placeholder="by id">
                                    </th>
                                    <th>
                                        <input ng-model="search.name" class="form-control" placeholder="by name">
                                    </th>
                                    <th/>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="table in hl7Tables | orderBy: 'bindingIdentifier' | filter:search:strict">
                                    <td>{{table.bindingIdentifier}}</td>
                                    <td>{{table.name}}</td>
                                    <td><a class="pointer" ng-click="addTable(table)"><i class="fa fa-plus fa-fw"></i></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-6" ng-show="selectedTables.length> 0">
                <div class="igl-table">
                    <h5>Selected tables</h5>
                    <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                        <thead>
                            <tr>
                                <th>Binding Identifier</th>
                                <th>Name</th>
                                <th>HL7 Version</th>
                                <th/>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="table in selectedTables">
                                <td>{{table.bindingIdentifier}}</td>
                                <td>{{table.name}}</td>
                                <td>{{table.hl7Version}}</td>
                                <td><a class="pointer" ng-click="deleteTable(table)"><i
                                            class="fa fa-times fa-fw"></i></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
</div>
</div>
</form>
</div>
<div class="modal-footer">
    <button class="btn btn-raised btn-primary btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="save()"><span><i
                    class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
    <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="cancel()"><span><i
                    class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
    <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length === 0" ng-disabled="loading" ng-click="cancel()"><span><i
                    class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
</div></script> <script type="text/ng-template" id="AddCSVTableOpenCtrl.html"><div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Add ValueSet From CSV file</span>
        </div>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="form-group">
                <div class="col-sm-12">
                    <label for="csvValueSetFile" class="custom-file-upload">
                        <i class="fa fa-cloud-upload"></i> Choose CSV File
                    </label>
                    <input id="csvValueSetFile" accept=".csv" onchange="angular.element(this).scope().validateForSelectedFile(this.files)" type="file" name="csvValueSetFile" />
                    <div id="csvFileName"></div>
                    <div id="errorMessageForCSV"></div>
                </div>
            </div>

            <p style="color:blue;">How it works</p>
            <ol style="color:blue;">
                <li style="color:blue;">Download 'ValueSet Empty Form (Excel)'</li>
                <li style="color:blue;">Edit sheets using MS Excel</li>
                <li style="color:blue;">Save as CSV file</li>
                <li style="color:blue;">Upload CSV file</li>
            </ol>

            <p style="color:blue;">Files</p>
            <ul>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_EmptyForm_Excel.xlsx" target="_blank"><i class="fa fa-file-excel-o fa-fw"></i>ValueSet Empty Form (Excel)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_EmptyForm_csv.csv" target="_blank"><i class="fa fa-file-code-o fa-fw"></i>ValueSet Empty Form (CSV)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_sample_excel.xlsx" target="_blank"><i class="fa fa-file-excel-o fa-fw"></i>ValueSet Sample Form (Excel)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_sample_csv.csv" target="_blank"><i class="fa fa-file-code-o fa-fw"></i>ValueSet Sample Form (CSV)</a></li>
            </ul>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-warning btn-sm" ng-click="cancel()"><span><i class="fa fa-times fa-fw">&nbsp; </i>Cancel</span></button>
        <button id="csvSaveButton" class="btn btn-raised btn-primary btn-sm" ng-click="save()" disabled><span><i class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
    </div></script> <script type="text/ng-template" id="AddPHINVADSTableOpenCtrl.html"><div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Add PHINVADs Tables</span>
        </div>
    </div>
    <div class="modal-body">
        <div ng-show="loading" style="text-align:center">
            <i class="fa fa-spinner fa-pulse fa-2x"></i>
        </div>

        <div class="col-md-6">
            <div class="igl-table">
                <h5>Preloaded PHINVADs Tables</h5>
                <table st-safe-src="preloadedPhinvadsTables" st-table="displayCollection" class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                    <thead>
                    <tr>
                        <th colspan="3">
                            <input st-search placeholder="Search" class="input-sm form-control" type="search" />
                        </th>
                    </tr>
                    <tr>
                        <th st-sort="bindingIdentifier">Binding Identifier</th>
                        <th>Name</th>
                        <th/>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="table in displayCollection">
                        <td>{{::table.bindingIdentifier}}</td>
                        <td>{{::table.name}}</td>
                        <td>
                            <a ng-if="!isAlreadyIn(table) && !isAlreadySelected(table)" class="pointer" ng-click="addTable(table)"><i class="fa fa-plus fa-fw"></i></a>
                            <span ng-if="isAlreadyIn(table)">Added</span>
                            <span ng-if="isAlreadySelected(table)">Selected</span>
                        </td>
                    </tr>
                    </tbody>
                    <tr style="float:center !important;">
                        <td colspan="6" class="text-center" style="float:center !important;">
                            <div st-pagination="" st-items-by-page="10" st-displayed-pages="7" style="float:center !important;"></div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="col-md-6">
            <div class="igl-table">
                <h5>Selected tables</h5>
                <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                    <thead>
                    <tr>
                        <th>Binding Identifier</th>
                        <th>Name</th>
                        <th/>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="table in selectedTables">
                        <td>{{::table.bindingIdentifier}}</td>
                        <td>{{::table.name}}</td>
                        <td><a class="pointer" ng-click="deleteTable(table)"><i class="fa fa-times fa-fw"></i></a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="save()"><span><i
                class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
        <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
        <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length === 0" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
    </div></script> </div> <script type="text/ng-template" id="AddDatatypeDlg.html"><div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Data Type</h3>
            </div>
            <form name="addDT">
                <div class="modal-body">
                            <div class="container" style="margin-bottom: 20px;margin-top: 10px">
                                    <div class="row" style="padding-top:10px">
                                       <tabset>
                                            <tab>
                                                <tab-heading>HL7 Datatypes</tab-heading>



                                                <div class="col-md-6">
                                                    <div class="btn-group btn-group-sm " data-toggle="buttons">
                                                        <label class="btn btn-raised btn-info btn-xs"
                                                            ng-click="setVersion(vr)"
                                                            ng-class="{ 'active':vr===version1}" ng-repeat="vr in versions">
                                                            <input type="radio" ng-value="vr" ng-model="version1">{{vr}}</input>
                                                        </label>
                                                    </div>
                                                    <div ng-show="loading" style="text-align:center">
                                                        <i class="fa fa-spinner fa-pulse fa-2x"></i>
                                                    </div>



                                                    <div class="igl-table">

                                                        <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                                            <input ng-model="search.name" class="form-control" placeholder="by name">
                                                            <thead>
                                                            <tr>

                                                                <th>Name</th>
                                                                <th>As is</th>
                                                                <th>As Flavor</th>

                                                            </tr>

                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="datatype in hl7Datatypes | orderBy: 'name' | filter:search:strict">

                                                                <td>{{datatype.name}}</td>
                                                                <td><a class="pointer" ng-show="!checkExist(datatype)" ng-click="addDt(datatype)"><i class="fa fa-plus fa-fw"></i></a>
                                                                    <p ng-show="checkExist(datatype)">Selected</p>
                                                                </td>
                                                                <td><a class="pointer" ng-click="addDtFlv(datatype)"><i class="fa fa-plus fa-fw"></i></a>
                                                                </td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </tab>
                                            <tab>
                                                <tab-heading>Master Datatypes</tab-heading>

                                                <div class="col-md-6">
                                                    <div ng-show="loading" style="text-align:center">
                                                        <i class="fa fa-spinner fa-pulse fa-2x"></i>
                                                    </div>
                                                    <select ng-model="masLib" class="form-control" ng-change="selectMasterDtLib(masLib)" ng-options="masLib.metaData.name for masLib in masterLib track by masLib.id">
                                                       <option value="" disabled selected>Choose a Master Library</option>
                                                    </select>
                                                    <div ng-show="masLib" class="igl-table">

                                                        <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                                            <input ng-model="search.name" class="form-control" placeholder="by name">
                                                            <thead>
                                                            <tr class="tbl-header">

                                                                <th>Name</th>
                                                                <th>Version</th>
                                                                <th>As is</th>
                                                                <th>As Flavor</th>

                                                            </tr>

                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="datatype in masterDatatypes | orderBy: 'name' | filter:search:strict">

                                                                <td>{{datatype.label}}</td>
                                                                <td>{{datatype.hl7Version}}</td>
                                                                <td><a class="pointer" ng-show="!checkExist(datatype)" ng-click="addDt(datatype)"><i class="fa fa-plus fa-fw"></i></a>
                                                                    <p ng-show="checkExist(datatype)">Selected</p>
                                                                </td>
                                                                <td><a class="pointer" ng-click="addDtFlv(datatype)"><i class="fa fa-plus fa-fw"></i></a>
                                                                </td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>

                                            </tab>
                                            <tab>
                                                <tab-heading>User Datatypes</tab-heading>
                                                <div class="col-md-6">
                                                    <div ng-show="loading" style="text-align:center">
                                                        <i class="fa fa-spinner fa-pulse fa-2x"></i>
                                                    </div>
                                                    <select ng-model="usrLib" class="form-control"  ng-change="selectUserDtLib(usrLib)" ng-options="usrLib.metaData.name for usrLib in userDtLib track by usrLib.id">
                                                        <option value="" disabled selected>Choose a User Library</option>
                                                        <!--<option ng-repeat="usrLib in userDtLib" value='{{usrLib}}'> {{usrLib.metaData.name}}</option>-->
                                                    </select>
                                                    <div ng-show="usrLib" class="igl-table">

                                                        <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                                            <input ng-model="search.name" class="form-control" placeholder="by name">
                                                            <thead>
                                                            <tr class="tbl-header">

                                                                <th>Name</th>
                                                                <th>Version</th>
                                                                <!--<th>As is</th>-->
                                                                <th>As Flavor</th>

                                                            </tr>

                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="datatype in userDatatypes | orderBy: 'name' | filter:search:strict">

                                                                <td>{{datatype.label}}</td>
                                                                <td>{{datatype.hl7Version}}
                                                                <!--<td><a class="pointer" ng-show="!checkExist(datatype)" ng-click="addDt(datatype)"><i class="fa fa-plus fa-fw"></i></a>
                                                                    <p ng-show="checkExist(datatype)">Selected</p>
                                                                </td>-->
                                                                <td><a class="pointer" ng-click="addDtFlv(datatype)"><i class="fa fa-plus fa-fw"></i></a>
                                                                </td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>

                                            </tab>
                                       </tabset>





                                        <div class="col-md-6" ng-show="selectedDatatypes.length> 0">
                                                        <div class="igl-table">
                                                            <h5>Selected Data Types</h5>
                                                            <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Name</th>
                                                                        <th>Ext</th>
                                                                        <th>Version</th>

                                                                        <th/>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="dt in selectedDatatypes">
                                                                        <td>{{dt.name}}</td>
                                                                        <td><span ng-show="!edit">{{dt.ext}}</span>
                                                                            <a class="pointer" ng-show="!edit && dt.ext!==null && dt.ext!==''&& dt.scope!=='MASTER'" ng-click="edit=true;checkExt(dt)"><i class="fa fa-pencil fa-fw"></i></a>
                                                                            <input ng-show="edit" ng-change="checkExt(dt)" ng-model="dt.ext"/>
                                                                            <a class="pointer" ng-show="edit && checkedExt && NocheckedExt" ng-click="edit=false"><i class="fa fa-check-circle"></i></a>
                                                                            <span ng-if="edit && !checkedExt" class="danger">This extension already exists</span>
                                                                            <span ng-if="edit && !NocheckedExt" class="danger">A flavor must have an extension</span>
                                                                        </td>
                                                                        <td>{{dt.hl7Version}}</td>

                                                                        <td><a class="pointer" ng-click="deleteDt(dt)"><i
                                                                                    class="fa fa-times fa-fw"></i></a></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                        </div>
                                    </div>

                            </div>


                </div>
                <div class="modal-footer">
                    <button class="btn btn-raised btn-default" type="button" ng-click="cancel()"><i class="fa fa-times fa-fw"></i>Cancel
                    </button>
                    <button class="btn btn-raised btn-primary" type="button" ng-click="ok()" ng-disabled="!checkedExt||!NocheckedExt||selectedDatatypes.length===0"><i class="fa fa-check fa-fw"></i>Add
                    </button>
                </div>
            </form>
         </div></script> <script type="text/ng-template" id="AddSegmentDlg.html"><div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Segment</h3>
            </div>

            <!--<form name="addSeg" id="addSeg">-->
                <!--<div class="modal-body">

                    <div class="container" style="margin-bottom: 20px;margin-top: 20px">
                        <div class="row flavor-seach-box">


                            <div class="input-group" style="padding-bottom:5px;"  align="center" data-toggle="buttons">
                                <span class="input-group-addon" id="version-basic-addon1">HL7 Versions</span>
                                <select ng-model="version1" class="form-control col-md-3" ng-change="setVersion(version1)">
                                        <option ng-repeat="vr in versions" value='{{vr}}'> {{vr}}</option>
                                    </select>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon" id="segment-basic-addon1"><i class="fa fa-search"></i> Search</span>
                                <input type="text" class="form-control input-lg" ng-model="newSegment" data-limit="15" data-animation="am-flip-x" data-auto-select="true" typeahead="segment as segment.name for segment in hl7Segments|filter:{name:$viewValue}| limitTo:5" placeholder="Search By Name">
                            </div>
                        </div>
                    </div>
                </div>-->
                 <form class="form-horizontal" novalidate>
                <div class="modal-body">

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="btn-group btn-group-sm pull-left" data-toggle="buttons">
                                            <label class="btn btn-raised btn-info btn-xs"
                                                ng-click="setVersion(vr)"
                                                ng-class="{ 'active':vr===version1}" ng-repeat="vr in versions">
                                                <input type="radio" ng-value="vr" ng-model="version1">{{vr}}</input>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6" ng-show="version1 !==''">
                                        <div ng-show="loading" style="text-align:center">
                                            <i class="fa fa-spinner fa-pulse fa-2x"></i>
                                        </div>
                                        <div ng-show="!loading" class="igl-table">
                                            <h5>Segments for {{version1}}</h5>
                                            <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                                <input ng-model="search.name" class="form-control" placeholder="by name">
                                                <thead>
                                                <tr>

                                                    <th>Name</th>
                                                    <th>As is</th>
                                                    <th>As Flavor</th>

                                                </tr>

                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="segment in hl7Segments | orderBy: 'name' | filter:search:strict">

                                                    <td>{{segment.name}}</td>
                                                    <td><a class="pointer" ng-show="!checkExist(segment)" ng-click="addseg(segment)"><i class="fa fa-plus fa-fw"></i></a>
                                                        <p ng-show="checkExist(segment)">Selected</p>
                                                    </td>
                                                    <td><a class="pointer" ng-click="addsegFlv(segment)"><i class="fa fa-plus fa-fw"></i></a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col-md-6" ng-show="selectedSegments.length> 0">
                                                    <div class="igl-table">
                                                        <h5>Selected Segments</h5>
                                                        <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                                            <thead>
                                                                <tr>
                                                                    <th>Name</th>
                                                                    <th>Ext</th>
                                                                    <th>HL7 Version</th>
                                                                    <th/>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="seg in selectedSegments">
                                                                    <td>{{seg.name}}</td>
                                                                    <td><span ng-show="!edit">{{seg.ext}}</span>
                                                                        <a class="pointer" ng-show="!edit && seg.ext!==null" ng-click="edit=true;checkExt(seg)"><i class="fa fa-pencil fa-fw"></i></a>
                                                                        <input ng-show="edit" ng-change="checkExt(seg)" ng-model="seg.ext"/>
                                                                        <a class="pointer" ng-show="edit && checkedExt && NocheckedExt" ng-click="edit=false"><i class="fa fa-check-circle"></i></a>
                                                                        <span ng-if="edit && !checkedExt" class="danger">This extension already exists</span>
                                                                        <span ng-if="edit && !NocheckedExt" class="danger">A flavor must have an extension</span>
                                                                    </td>
                                                                    <td>{{seg.hl7Version}} </td>
                                                                    <td><a class="pointer" ng-click="deleteSeg(seg)"><i
                                                                                class="fa fa-times fa-fw"></i></a></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                    </div>
                                </div>

                </div>
                <div class="modal-footer">
                    <button class="btn btn-raised btn-default" type="button" ng-click="cancel()"><i class="fa fa-times fa-fw"></i>
                        Cancel
                    </button>
                    <button class="btn btn-raised btn-primary" type="button" ng-click="ok()" ng-disabled="!checkedExt||!NocheckedExt||selectedSegments.length===0"><i class="fa fa-check"></i>Add
                    </button>
                </div>
                 </form>
            <!--</form>-->
        </div>
    </div></script> <script type="text/ng-template" id="ShareIGDocumentModal.html"><div>
		<div class="modal-header">
			<h3 class="modal-title">Share IG Document</h3> </div>
		<div class="modal-body">
			<div class="container" style="margin-bottom: 20px;margin-top: 20px">
				<div class="row" ng-if="error != null">
					<div class="col-md-12">
						<span ng-bind="error" style="color: red;"></span>
					</div>
				</div>

				<div class="row" ng-if="igdocumentSelected.shareParticipants.length > 0">
					<div class="col-md-12">
						<h5>Shared with</h5>
						<div class="table-responsive">
							<table class="table">
								<tbody>
									<tr ng-repeat="participant in igdocumentSelected.shareParticipants">
										<td><i>{{participant.fullname}} ({{participant.username}})</i></td>
										<td>
                                            <button ng-disabled="loading" class="btn btn-raised btn-danger btn-xs" type="button" style="margin-top: 0;" ng-click="unshare(participant)" ng-if="!participant.pendingApproval"><i class="fa fa-times"></i> Remove</button>
                                            <button ng-disabled="loading" class="btn btn-raised btn-warning btn-xs" type="button" style="margin-top: 0;" ng-if="participant.pendingApproval">Pending Request</button>
                                            <button ng-disabled="loading" class="btn btn-raised btn-danger btn-xs" type="button" style="margin-top: 0;" ng-click="unshare(participant)" ng-if="participant.pendingApproval"><i class="fa fa-times"></i> Cancel</button>
                                        </td>
                                        <td>
                                            {{participant.permission}}
                                        </td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>


				<div class="row">
					<div class="col-md-8">
						<tags-input ng-model="tags" key-property="id" display-property="username" placeholder="Find user" replace-spaces-with-dashes="false" add-from-autocomplete-only="true">
							<auto-complete source="loadUsernames($query)" min-length="0" load-on-focus="true" load-on-empty="true" max-results-to-show="32" template="autocomplete-template"></auto-complete>
						</tags-input>
					</div>
					<div class="col-md-4">
						<ui-select ng-model="selectedItem.selected" theme="bootstrap" ng-disabled="true">
							<ui-select-match>{{$select.selected}}</ui-select-match>
							<ui-select-choices repeat="item in itemArray | filter: $select.search">
								<div ng-bind-html="item | highlight: $select.search"></div>
							</ui-select-choices>
						</ui-select>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button class="btn btn-raised btn-default" type="button" ng-click="cancel()"><i class="fa fa-times fa-fw"></i> Cancel </button>
				<button class="btn btn-raised btn-primary" type="button" ng-click="ok()" ng-disabled="tags.length === 0"><i class="fa fa-check"></i>Share</button>
			</div>
		</div>
	</div></script> <script type="text/ng-template" id="autocomplete-template"><div class="autocomplete-template">
        <div class="share_left-panel">
            <i class="fa fa-user" aria-hidden="true"></i>
        </div>
    </div>
    <div class="share_right-panel">
        <span ng-bind-html="$highlight($getDisplayText())"></span>
        <span>({{data.fullname}})</span>
    </div></script>