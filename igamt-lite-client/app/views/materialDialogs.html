<script type="text/ng-template" id="AddDatatypeIntoUser.html">
    <md-dialog aria-label="Adding Data types">
        <form ng-cloak>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2> Add Datatypes From {{scopeTag}} Library </h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <i class="material-icons">clear</i>
                    </md-button>
                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">


                    <form name="addDT">
                        <div class="modal-body">
                            <div class="container" style="margin-bottom: 20px;margin-top: 10px">
                                <div class="row" style="padding-top:10px">

                                    <div layout-padding>
                                        <md-select ng-model="masLib" ng-change="selectMasterDtLib(masLib)"
                                                   placeholder="Select Library" class="md-primary">
                                            <md-option> {{masLib.metaData.name}}</md-option>

                                            <md-option ng-repeat="masLib in masterLib" ng-value="masLib">
                                                {{masLib.metaData.name}}
                                            </md-option>

                                        </md-select>

                                    </div>


                                    <div ng-if="masLib.id" layout="row" layout-align="center start">
                                        <hr style="border-top: 2px solid #271e1e"/>

                                        <div class="panel panel-default " flex="50">
                                            <div class="panel-heading">Source</div>
                                            <div class="panel-body container">

                                                <div align="right" class="container" style="margin-top: 8px;">
                                                    <i class="icon-search"></i>
                                                    <input type="search" class="form-control"
                                                           placeholder="Search Datatypes" ng-model="search.name"/>
                                                </div>
                                                <div>
                                                    <table class="table table-bordered table-stripped container">
                                                        <thead>
                                                        <tr class="tbl-header">

                                                            <th class="col-md-3">Name</th>
                                                            <th class="col-md-7">Compatible HL7 Versions</th>
                                                            <th class="col-md-2">Actions</th>
                                                        </tr>

                                                        </thead>
                                                        <tbody>
                                                        <tr ng-repeat="datatype in masterDatatypes | orderBy: 'name' | filter:search:strict"
                                                            ng-if="datatype.scope!=='INTERMASTER'">

                                                            <td class="col-md-7">
                                                                <display-label of="datatype"></display-label>


                                                            </td>
                                                            <td class="col-md-3">

                                                                <md-radio-group ng-model="datatype.hl7Version">

                                                                    <md-radio-button
                                                                            ng-repeat="vr in datatype.hl7versions"
                                                                            ng-value="vr" class="md-primary"
                                                                            ng-disabled="checkImported(datatype,vr)">
                                                                        {{vr}}
                                                                    </md-radio-button>

                                                                </md-radio-group>


                                                            </td>
                                                            <td class="col-md-2">
                                                                <button class="btn btn-raised btn-primary btn-xs"
                                                                        type="button" ng-click="addDtFlv(datatype)"
                                                                        ng-disabled="checkImported(datatype,datatype.hl7Version)||datatype.hl7Version=='*'">
                                                                    <i class="fa fa-plus fa-fw"></i>
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="panel panel-default " flex="50" style="margin-left:5px;">
                                            <div class="panel-heading">Selected Data Types</div>
                                            <div class="panel-body container">
                                                <div align="right" class="container" style="margin-top: 8px;">
                                                    <i class="icon-search"></i>
                                                    <input type="search" class="form-control" placeholder="Search"
                                                           ng-model="search1.name"/>
                                                </div>
                                                <table class="table table-bordered table-stripped container">
                                                    <thead>
                                                    <tr class="tbl-header">
                                                        <th>Data Type</th>
                                                        <th>Actions</th>

                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="dt in selectedDatatypes">

                                                        <td>
                                                            <display-label of="dt" desc="true"></display-label>
                                                        </td>
                                                        <td><a class="pointer" ng-click="deleteDt(dt)">
                                                            <i
                                                                    class="fa fa-times fa-fw"></i></a></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </form>
                </div>
                <md-dialog-actions layout="row">
                    <md-button class="md-primary md-raised" md-autofocus ng-click="ok()"
                               ng-disabled="!checkedExt||!NocheckedExt||selectedDatatypes.length===0">
                        Add
                    </md-button>
                </md-dialog-actions>
            </md-dialog-content>
        </form>
        </div>
    </md-dialog>
</script>
<script type="text/ng-template" id="addSharedDatatype.html">
    <md-dialog aria-label="Adding Data types">
        <form ng-cloak>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2> Add Shared Data Type </h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <i class="material-icons">clear</i>
                    </md-button>
                </div>
            </md-toolbar>
            <md-dialog-content>
                <div class="md-dialog-content">
                    <form name="addDT">
                        <div class="modal-body">
                            <div class="container" style="margin-bottom: 20px;margin-top: 10px">
                                <div class="row" style="padding-top:10px">

                                    <div layout="row" layout-align="center start">
                                        <hr style="border-top: 2px solid #271e1e"/>

                                        <div class="panel panel-default " flex="50">
                                            <div class="panel-heading">Source</div>
                                            <div class="panel-body container">

                                                <div align="right" class="container" style="margin-top: 8px;">
                                                    <i class="icon-search"></i>
                                                    <input type="search" class="form-control"
                                                           placeholder="Search Datatypes" ng-model="search.name"/>
                                                </div>
                                                <div>
                                                    <table class="table table-bordered table-stripped container">
                                                        <thead>
                                                        <tr class="tbl-header">

                                                            <th class="col-md-7" ng-if="igdocument"> Name</th>
                                                            <th class="col-md-10" ng-if="!igdocument"> Data Type</th>
                                                            <th class="col-md-3" ng-if="igdocument"> Compatible HL7 Versions</th>
                                                            <th class="col-md-2" ng-if="igdocument"> Actions</th>
                                                            <th class="col-md-2" ng-if="!igdocument"> Actions</th>

                                                        </tr>

                                                        </thead>
                                                        <tbody>
                                                        <tr ng-repeat="datatype in hl7Datatypes | orderBy: 'name' | filter:search:strict"
                                                            ng-if="datatype.scope!=='INTERMASTER'">

                                                            <td class="col-md-7" ng-if="igdocument">
                                                                <display-label of="datatype"></display-label> <span ng-if="datatype.owner"> Author : <img style="max-width:30px !important;border-radius: 50% " src="{{generateHash(datatype.owner.email)}}"/> {{datatype.owner.fullname}}</span>

                                                            </td>

                                                            <td class="col-md-10" ng-if="!igdocument">
                                                                <display-label of="datatype"></display-label> <span ng-if="datatype.owner"> Author : <img style="max-width:30px !important;border-radius: 50% " src="{{generateHash(datatype.owner.email)}}"/> {{datatype.owner.fullname}}</span>

                                                            </td>
                                                            <td class="col-md-3" ng-if="igdocument">
                                                                <md-radio-group ng-model="datatype.hl7Version" >

                                                                    <md-radio-button
                                                                            ng-repeat="vr in datatype.hl7versions"
                                                                            ng-value="vr" class="md-primary"
                                                                            ng-disabled="checkImported(datatype,vr)">
                                                                        {{vr}}
                                                                    </md-radio-button>

                                                                </md-radio-group>
                                                            </td>
                                                            <td class="col-md-2" ng-if="igdocument">
                                                                <md-button class="btn btn-raised btn-primary btn-xs"
                                                                        type="button" ng-click="addDtFlv(datatype)"
                                                                        ng-disabled="checkImported(datatype,datatype.hl7Version)||datatype.hl7Version=='*'">
                                                                    <i class="fa fa-plus fa-fw"></i>
                                                                </md-button>
                                                            </td>
                                                            <td class="col-md-2" ng-if="!igdocument">
                                                                <md-button class="btn btn-raised btn-primary btn-xs"
                                                                           type="button" ng-click="addDtFlvForLib(datatype)">
                                                                    <i class="fa fa-plus fa-fw"></i>
                                                                </md-button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="panel panel-default " flex="50" style="margin-left:5px;">
                                            <div class="panel-heading">Selected Data Types</div>
                                            <div class="panel-body container">
                                                <div align="right" class="container" style="margin-top: 8px;">
                                                    <i class="icon-search"></i>
                                                    <input type="search" class="form-control" placeholder="Search"
                                                           ng-model="search1.name"/>
                                                </div>
                                                <table class="table table-bordered table-stripped container">
                                                    <thead>
                                                    <tr class="tbl-header">
                                                        <th>Data Type</th>
                                                        <th>Actions</th>

                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="dt in selectedDatatypes">

                                                        <td>
                                                            <display-label of="dt" desc="true"></display-label>
                                                        </td>
                                                        <td><a class="pointer" ng-click="deleteDt(dt)">
                                                            <i
                                                                    class="fa fa-times fa-fw"></i></a></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </form>
                </div>
                <md-dialog-actions layout="row">
                    <md-button class="md-primary md-raised" md-autofocus ng-click="ok()"
                               ng-disabled="!checkedExt||!NocheckedExt||selectedDatatypes.length===0">
                        Add
                    </md-button>
                </md-dialog-actions>
            </md-dialog-content>
        </form>
        </div>
    </md-dialog>
</script>

<script type="text/ng-template" id="AddHL7DatatypeMd.html">

    <md-dialog aria-label="Adding Data types">
        <form ng-cloak>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2> Add Datatypes From {{scopeTag}} Library </h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <i class="material-icons">clear</i>
                    </md-button>

                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">


                    <form name="addDT">
                        <div class="container" style="margin-bottom: 20px;margin-top: 10px">
                            <div layout="row" layout-align="center start">
                                <label flex="40" style="color:black !important; margin-right:8px;">Select HL7
                                    version:</label>
                                <!--<div class="btn-group btn-group-sm" data-toggle="buttons">-->
                                <!--<label class="btn btn-raised btn-info btn-xs" ng-click="setVersion(vr)" ng-class="{ 'active':vr===version1}" ng-repeat="vr in versions">-->
                                <!--<input type="radio" ng-value="vr" ng-model="version1">{{vr}}</input>-->
                                <!--</label>-->
                                <!--</div>-->

                                <md-radio-group flex="60" ng-model="version1" ng-change="setVersion(version1)"
                                                style="display: inline-flex;">

                                    <md-radio-button flex ng-repeat="vr in versions" ng-value="vr" class="md-primary">
                                        {{vr}}
                                    </md-radio-button>

                                </md-radio-group>

                            </div>
                            <div layout="row" style="padding-top:10px" layout-align="center start">
                                <div class="panel panel-default" flex="50">
                                    <div class="panel-heading">Source</div>
                                    <div class="panel-body container">

                                        <div align="right" class="container" style="margin-top: 8px;">
                                            <i class="icon-search"></i>
                                            <input type="search" class="form-control" placeholder="Search Datatypes"
                                                   ng-model="search.name"/>
                                        </div>
                                        <div>
                                            <table class="table table-bordered table-stripped container">
                                                <thead>
                                                <tr class="tbl-header" layout="row">

                                                    <th flex="60">Data Type</th>
                                                    <th flex="20">As is</th>
                                                    <th flex="20">As Flavor</th>

                                                </tr>

                                                </thead>
                                                <tbody style="display: block; max-height: 300px; overflow: scroll">
                                                <tr ng-repeat="datatype in hl7Datatypes | orderBy: 'name' | filter:search:strict"
                                                    layout="row">

                                                    <td flex="60">
                                                        <display-label of="datatype" desc="true"></display-label>
                                                    </td>
                                                    <td flex="20"><a class="pointer" ng-show="!checkExist(datatype)"
                                                                     ng-click="addDt(datatype)"><i
                                                            class="fa fa-plus fa-fw"></i></a>
                                                        <p ng-show="checkExist(datatype)">Selected</p>
                                                    </td>
                                                    <td flex="20"><a class="pointer" ng-click="addDtFlv(datatype)"><i
                                                            class="fa fa-plus fa-fw"></i></a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default" flex="50" style="margin-left:5px;">
                                    <div class="panel-heading">Selected Data Types</div>
                                    <div class="panel-body container">
                                        <div align="right" class="container" style="margin-top: 8px;">
                                            <i class="icon-search"></i>
                                            <input type="search" class="form-control" placeholder="Search"
                                                   ng-model="search1.name"/>
                                        </div>
                                        <table class="table table-bordered table-stripped container">
                                            <thead>
                                            <tr class="tbl-header" layout="row">
                                                <th flex="40">Data Type</th>
                                                <th flex="40">Edit Extension</th>
                                                <th flex="20">Actions</th>

                                            </tr>
                                            </thead>
                                            <tbody style="display: block; max-height: 300px; overflow: scroll">
                                            <tr ng-repeat="dt in selectedDatatypes" layout="row">
                                                <td flex="40">
                                                    <display-label of="dt" desc="false"></display-label>
                                                </td>
                                                <td flex="40"><span ng-show="!edit">{{dt.ext}}</span>
                                                    <a class="pointer"
                                                       ng-show="!edit && dt.ext!==null && dt.ext!==''&& dt.status!=='PUBLISHED'"
                                                       ng-click="edit=true;checkExt(dt)"><i
                                                            class="fa fa-pencil fa-fw"></i></a>
                                                    <input ng-show="edit" ng-change="checkExt(dt)" ng-model="dt.ext"/>
                                                    <a class="pointer" ng-show="edit && checkedExt && NocheckedExt"
                                                       ng-click="edit=false"><i class="fa fa-check-circle"></i></a>
                                                    <span ng-if="edit && !checkedExt" class="danger">This extension already exists</span>
                                                    <span ng-if="edit && !NocheckedExt" class="danger">A flavor must have an extension</span>
                                                </td>


                                                <td flex="20"><a class="pointer" ng-click="deleteDt(dt)"><i
                                                        class="fa fa-times fa-fw"></i></a></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <md-dialog-actions layout="row">

                    <md-button class="md-primary md-raised" ng-click="ok()"
                               ng-disabled="!checkedExt||!NocheckedExt||selectedDatatypes.length===0">
                        Add
                    </md-button>
                </md-dialog-actions>
            </md-dialog-content>
        </form>
        </div>
    </md-dialog>
</script>

<script type="text/ng-template" id="AddSharedDts.html">

    <md-dialog aria-label="Adding Data types">
        <form ng-cloak>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2> Add Datatypes From {{scopeTag}} Library </h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <i class="material-icons">clear</i>
                    </md-button>

                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">


                    <form name="addDT">
                        <div class="container" style="margin-bottom: 20px;margin-top: 10px">
                            <div layout="row" layout-align="center start">
                                <label flex="40" style="color:black !important; margin-right:8px;">Select HL7
                                    version:</label>
                                <!--<div class="btn-group btn-group-sm" data-toggle="buttons">-->
                                <!--<label class="btn btn-raised btn-info btn-xs" ng-click="setVersion(vr)" ng-class="{ 'active':vr===version1}" ng-repeat="vr in versions">-->
                                <!--<input type="radio" ng-value="vr" ng-model="version1">{{vr}}</input>-->
                                <!--</label>-->
                                <!--</div>-->

                                <md-radio-group flex="60" ng-model="version1" ng-change="setVersion(version1)"
                                                style="display: inline-flex;">

                                    <md-radio-button flex ng-repeat="vr in versions" ng-value="vr" class="md-primary">
                                        {{vr}}
                                    </md-radio-button>

                                </md-radio-group>

                            </div>
                            <div layout="row" style="padding-top:10px" layout-align="center start">
                                <div class="panel panel-default" flex="50">
                                    <div class="panel-heading">Source</div>
                                    <div class="panel-body container">

                                        <div align="right" class="container" style="margin-top: 8px;">
                                            <i class="icon-search"></i>
                                            <input type="search" class="form-control" placeholder="Search Datatypes"
                                                   ng-model="search.name"/>
                                        </div>
                                        <div>
                                            <table class="table table-bordered table-stripped container">
                                                <thead>
                                                <tr class="tbl-header" layout="row">

                                                    <th flex="60">Data Type</th>
                                                    <th flex="20">As is</th>
                                                    <th flex="20">As Flavor</th>

                                                </tr>

                                                </thead>
                                                <tbody style="display: block; max-height: 300px; overflow: scroll">
                                                <tr ng-repeat="datatype in hl7Datatypes | orderBy: 'name' | filter:search:strict"
                                                    layout="row">

                                                    <td flex="60">
                                                        <display-label of="datatype" desc="true"></display-label>
                                                    </td>
                                                    <td flex="20"><a class="pointer" ng-show="!checkExist(datatype)"
                                                                     ng-click="addDt(datatype)"><i
                                                            class="fa fa-plus fa-fw"></i></a>
                                                        <p ng-show="checkExist(datatype)">Selected</p>
                                                    </td>
                                                    <td flex="20"><a class="pointer" ng-click="addDtFlv(datatype)"><i
                                                            class="fa fa-plus fa-fw"></i></a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default" flex="50" style="margin-left:5px;">
                                    <div class="panel-heading">Selected Data Types</div>
                                    <div class="panel-body container">
                                        <div align="right" class="container" style="margin-top: 8px;">
                                            <i class="icon-search"></i>
                                            <input type="search" class="form-control" placeholder="Search"
                                                   ng-model="search1.name"/>
                                        </div>
                                        <table class="table table-bordered table-stripped container">
                                            <thead>
                                            <tr class="tbl-header" layout="row">
                                                <th flex="40">Data Type</th>
                                                <th flex="40">Edit Extension</th>
                                                <th flex="20">Actions</th>

                                            </tr>
                                            </thead>
                                            <tbody style="display: block; max-height: 300px; overflow: scroll">
                                            <tr ng-repeat="dt in selectedDatatypes" layout="row">
                                                <td flex="40">
                                                    <display-label of="dt" desc="false"></display-label>
                                                </td>
                                                <td flex="40"><span ng-show="!edit">{{dt.ext}}</span>
                                                    <a class="pointer"
                                                       ng-show="!edit && dt.ext!==null && dt.ext!==''&& dt.status!=='PUBLISHED'"
                                                       ng-click="edit=true;checkExt(dt)"><i
                                                            class="fa fa-pencil fa-fw"></i></a>
                                                    <input ng-show="edit" ng-change="checkExt(dt)" ng-model="dt.ext"/>
                                                    <a class="pointer" ng-show="edit && checkedExt && NocheckedExt"
                                                       ng-click="edit=false"><i class="fa fa-check-circle"></i></a>
                                                    <span ng-if="edit && !checkedExt" class="danger">This extension already exists</span>
                                                    <span ng-if="edit && !NocheckedExt" class="danger">A flavor must have an extension</span>
                                                </td>


                                                <td flex="20"><a class="pointer" ng-click="deleteDt(dt)"><i
                                                        class="fa fa-times fa-fw"></i></a></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <md-dialog-actions layout="row">

                    <md-button class="md-primary md-raised" ng-click="ok()"
                               ng-disabled="!checkedExt||!NocheckedExt||selectedDatatypes.length===0">
                        Add
                    </md-button>
                </md-dialog-actions>
            </md-dialog-content>
        </form>
        </div>
    </md-dialog>
</script>
<script type="text/ng-template" id="AddSegmentMd.html">

    <md-dialog aria-label="Adding HL7 Segments types">
        <form ng-cloak>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2> Add HL7 Segments </h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <i class="material-icons">clear</i>
                    </md-button>

                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">


                    <form name="addDT">
                        <div class="container" style="margin-bottom: 20px;margin-top: 10px">
                            <div layout="row" layout-align="center start">
                                <label flex="40" style="color:black !important; margin-right:8px;">Select HL7
                                    version:</label>
                                <!--<div class="btn-group btn-group-sm" data-toggle="buttons">-->
                                <!--<label class="btn btn-raised btn-info btn-xs" ng-click="setVersion(vr)" ng-class="{ 'active':vr===version1}" ng-repeat="vr in versions">-->
                                <!--<input type="radio" ng-value="vr" ng-model="version1">{{vr}}</input>-->
                                <!--</label>-->
                                <!--</div>-->

                                <md-radio-group flex="60" ng-model="version1" ng-change="setVersion(version1)"
                                                style="display: inline-flex;">

                                    <md-radio-button flex ng-repeat="vr in versions" ng-value="vr" class="md-primary">
                                        {{vr}}
                                    </md-radio-button>

                                </md-radio-group>

                            </div>
                            <div layout="row" style="padding-top:10px" layout-align="center start">
                                <div class="panel panel-default" flex="50">
                                    <div class="panel-heading">Source</div>
                                    <div class="panel-body container">

                                        <div align="right" class="container" style="margin-top: 8px;">
                                            <i class="icon-search"></i>
                                            <input type="search" class="form-control" placeholder="Search Segment"
                                                   ng-model="search.name"/>
                                        </div>
                                        <div>
                                            <table class="table table-bordered table-stripped container">
                                                <thead>
                                                <tr class="tbl-header" layout="row">

                                                    <th flex="60">Segment</th>
                                                    <th flex="20">As is</th>
                                                    <th flex="20">As Flavor</th>

                                                </tr>

                                                </thead>
                                                <tbody style="display: block; max-height: 300px; overflow: scroll">
                                                <tr ng-repeat="segment in hl7Segments | orderBy: 'name' | filter:search:strict"
                                                    layout="row">

                                                    <td flex="60">
                                                        <display-label of="segment" desc="true"></display-label>
                                                    </td>
                                                    <td flex="20"><a class="pointer" ng-show="!checkExist(segment)"
                                                                     ng-click="addseg(segment)"><i
                                                            class="fa fa-plus fa-fw"></i></a>
                                                        <p ng-show="checkExist(segment)">Selected</p>
                                                    </td>
                                                    <td flex="20"><a class="pointer" ng-click="addsegFlv(segment)"><i
                                                            class="fa fa-plus fa-fw"></i></a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default" flex="50" style="margin-left:5px;">
                                    <div class="panel-heading">Selected Data Types</div>
                                    <div class="panel-body container">
                                        <div align="right" class="container" style="margin-top: 8px;">
                                            <i class="icon-search"></i>
                                            <input type="search" class="form-control" placeholder="Search"
                                                   ng-model="search1.name"/>
                                        </div>
                                        <table class="table table-bordered table-stripped container">
                                            <thead>
                                            <tr class="tbl-header" layout="row">
                                                <th flex="40">Segment</th>
                                                <th flex="40">Edit Extension</th>
                                                <th flex="20">Actions</th>

                                            </tr>
                                            </thead>
                                            <tbody style="display: block; max-height: 300px; overflow: scroll">
                                            <tr ng-repeat="seg in selectedSegments" layout="row">
                                                <td flex="40">
                                                    <display-label of="seg" desc="false"></display-label>
                                                </td>
                                                <td flex="40"><span ng-show="!edit">{{seg.ext}}</span>
                                                    <a class="pointer" ng-show="!edit && seg.ext!==null && seg.ext!==''"
                                                       ng-click="edit=true;checkExt(seg)"><i
                                                            class="fa fa-pencil fa-fw"></i></a>
                                                    <input ng-show="edit" ng-change="checkExt(seg)" ng-model="seg.ext"/>
                                                    <a class="pointer" ng-show="edit && checkedExt && NocheckedExt"
                                                       ng-click="edit=false"><i class="fa fa-check-circle"></i></a>
                                                    <span ng-if="edit && !checkedExt" class="danger">This extension already exists</span>
                                                    <span ng-if="edit && !NocheckedExt" class="danger">A flavor must have an extension</span>
                                                </td>


                                                <td flex="20"><a class="pointer" ng-click="deleteSeg(seg)"><i
                                                        class="fa fa-times fa-fw"></i></a></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <md-dialog-actions layout="row">


                    <md-button class="md-primary md-raised" ng-click="ok()"
                               ng-disabled="!checkedExt||!NocheckedExt||selectedDatatypes.length===0">
                        Add
                    </md-button>
                </md-dialog-actions>
            </md-dialog-content>
        </form>
        </div>
    </md-dialog>
</script>
<script type="text/ng-template" id="createDatatypeLibrary.html">

    <md-dialog aria-label="Create Data Type Library ">
        <form ng-cloak name="createDtLibForm" id="createDtLibForm">
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2> Create Data Type Library </h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <i class="material-icons">clear</i>
                    </md-button>

                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">

                    <md-tabs md-dynamic-height md-border-bottom>
                    <md-tab md-active="tabs_dlg[0].active" md-on-select="make_active_dlg(0)">
                        <md-tab-label>
                            <i class="fa fa-file-text-o fa-fw"></i> Data Type Library Meta Data
                        </md-tab-label>
                        <md-tab-body>
                            <md-content layout-gt-sm="row" layout-padding>
                                <div style="margin-top: 20px" ng-cloak class="md-inline-form" layout="column">
                                    <md-content>
                                        <label class="input-left igamt-label">Name</label>
                                        <md-input-container class="md-block igamt-input-block" flex-gt-sm>
                                            <input type="text" name="name" ng-model="metaData.name"
                                                   required>
                                            <div ng-messages="editForm.name.$error">
                                                <div ng-message="required">Name is required.</div>
                                            </div>
                                        </md-input-container>

                                        <label class="input-left igamt-label">Steward</label>
                                        <md-input-container class="md-block igamt-input-block" flex-gt-sm>
                                            <input type="text" ng-change="setDirty()" name="metaData.orgName"
                                                   ng-model="metaData.orgName" required>

                                        </md-input-container>

                                        <label class="input-left igamt-label">Scope</label>
                                        <md-input-container class="md-block igamt-input-block" flex-gt-sm>
                                            <input ng-if="!admin" type="text" ng-change="setDirty()"
                                                   name="metaData.scope"
                                                   ng-model="metaData.scope" disabled required>
                                            <md-select ng-if="admin" ng-model="metaData.scope">
                                                <md-option ng-repeat="scope in ['USER', 'MASTER']" ng-value="scope">
                                                    {{scope}}
                                                </md-option>
                                            </md-select>

                                        </md-input-container>

                                        <label class="input-left igamt-label">Description</label>

                                        <md-input-container class="md-block igamt-input-block" flex-gt-sm style="margin-top:20px">
                                            <div>
                                                         <textarea froala="froalaEditorOptions"  no-dirty-check
                                                                   ng-model="metaData.description" name="description"
                                                                   id="descr"></textarea>
                                              </div>
                                        </md-input-container>

                                    </md-content>
                                </div>
                            </md-content>


                        </md-tab-body>


                    </md-tab>

                    <md-tab md-active="tabs_dlg[1].active" md-on-select="make_active_dlg(1)">
                        <md-tab-label>
                            <i class="fa fa-file-text-o fa-fw"></i> Add Data Types
                        </md-tab-label>
                        <md-tab-body>

                            <div layout="row" layout-align="center start">

                                <div class="panel panel-primary container" flex="50"
                                     style="max-width:400px !important; margin-right:5px;overflow: scroll">
                                    <div class="panel-heading">Source</div>
                                    <div class="panel-body container">
                                        <div class="container">
                                            <div style="margin-top: 8px;">
                                                <i class="icon-search"></i>
                                                <input type="search" class="form-control" placeholder="Search Datatypes"
                                                       ng-model="search.name" style="width:360px"/>
                                            </div>
                                        </div>
                                        <div class="container">
                                            <table class="fixed_headers table-bordered">
                                                <thead>
                                                <tr class="tbl-header" style="color: white !important; font-weight: bold">
                                                    <th class="widthInside">Name</th>
                                                    <th class="widthInside">Versions</th>
                                                    <th class="widthInside"></th>

                                                </tr>
                                                </thead>
                                                <tbody style="max-height:300px; overflow:scroll; display:block">
                                                <tr ng-repeat="data in datatypeTemplates| filter:search|orderBy: 'name'">
                                                    <td class="widthInside">
                                                        <span>{{data.name}}</span>
                                                    </td>
                                                    <td class="widthInside">
                                                        <ul>
                                                            <li ng-repeat="version in data.hl7versions">{{version}}</li>
                                                        </ul>
                                                    </td>
                                                    <td class="widthInside">
                                                        <i ng-click="AddDatatype(data)" class="fa fa-plus fa-fw"
                                                           style="color:blue;cursor:pointer !important"></i>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-primary" flex="50" style="max-width:540px !important">
                                    <div class="panel-heading">Selected Data Types</div>
                                    <div class="panel-body container">
                                        <div class="container" style="margin-top: 8px;">
                                            <i class="icon-search"></i>
                                            <input type="search" class="form-control" placeholder="Search"
                                                   ng-model="search1.name" style="width:500px"/>
                                        </div>
                                        <div class="container">
                                            <table class="fixed_headers table-bordered">
                                                <thead>
                                                <tr class="tbl-header" style="color: white !important; font-weight: bold">
                                                    <th class="widthInside2">Name</th>
                                                    <th class="widthInside2">Extension</th>
                                                    <th class="widthInside2">Compatible HL7 Version</th>
                                                    <th class="widthInside2">Description
                                                    </th>
                                                    <th class="widthInside2">Actions</th>
                                                </tr>
                                                </thead>
                                                <tbody style="max-height:300px; overflow:scroll; display:block">
                                                <tr ng-repeat="data in addedDatatypes| filter:search1">
                                                    <td class="widthInside2">
                                                        <span>{{data.name}}</span>
                                                    </td>
                                                    <td class="widthInside2">
                                                        <input type="text" class="form-control" ng-model="data.ext"
                                                               required></input>
                                                        <span style="color:red;"
                                                              ng-if="existingExtension(data,addedDatatypes)">Extension already exists</span>
                                                    </td>
                                                    <td class="widthInside2">
                                                        <ul>
                                                            <li ng-repeat="version in data.hl7versions"><span
                                                                    ng-class="{'choosed': version===data.hl7Version}">{{version}}</span>
                                                            </li>
                                                        </ul>
                                                    </td>
                                                    <td class="widthInside2">
                                                        {{data.description}}
                                                    </td>
                                                    <td class="widthInside2">
                                                        <button class="btn btn-raised btn-xs btn-danger"
                                                                ng-click="addedDatatypes.splice($index,1);miniDTMap[data.id]=false">
                                                            X
                                                        </button>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </md-tab-body>
                    </md-tab>
                    </md-tabs>
                </div>
            </md-dialog-content>

            <md-dialog-actions layout="row">
                        <md-button class="btn btn-raised btn-primary btn-md" ng-click="make_active_dlg(1)" ng-if="tabs_dlg[0].active">
                            <i class="fa fa-arrow-right fa-fw"></i>  Next
                        </md-button>

                        <md-button class="btn btn-raised btn-primary btn-md" ng-click="make_active_dlg(0)" ng-if="tabs_dlg[1].active">
                            <i class="fa fa-arrow-left fa-fw"></i> Back
                        </md-button>
                        <md-button class="btn btn-raised btn-primary btn-md" ng-click="createLibrary()" ng-disabled="createDtLibForm.$invalid">
                            <i class="fa fa-check fa-fw"></i> Create
                        </md-button>
                    </md-dialog-actions>
         </form>
        </div>
    </md-dialog>
</script>
<script type="text/ng-template" id="addFromLibtoLib.html">
    <md-dialog aria-label="Adding Data types">
        <form ng-cloak>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2> Add Datatypes From {{scopeTag}} Library </h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <i class="material-icons">clear</i>
                    </md-button>
                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">
                    <form name="addDT">
                        <div class="modal-body">
                            <div class="container" style="margin-bottom: 20px;margin-top: 10px">
                                <div class="row" style="padding-top:10px">

                                    <div layout-padding>
                                        <md-select ng-model="masLib" ng-change="selectMasterDtLib(masLib)"
                                                   placeholder="Select Library" class="md-primary">
                                            <md-option> {{masLib.metaData.name}}</md-option>

                                            <md-option ng-repeat="masLib in masterLib" ng-value="masLib">
                                                {{masLib.metaData.name}}
                                            </md-option>
                                        </md-select>

                                    </div>

                                    <div layout="row" style="padding-top:10px" layout-align="center start">
                                        <div class="panel panel-default" flex="50">
                                            <div class="panel-heading">Source</div>
                                            <div class="panel-body container">

                                                <div align="right" class="container" style="margin-top: 8px;">
                                                    <i class="icon-search"></i>
                                                    <input type="search" class="form-control" placeholder="Search Datatypes"
                                                           ng-model="search.name"/>
                                                </div>
                                                <div>
                                                    <table class="table table-bordered table-stripped container">
                                                        <thead>
                                                        <tr class="tbl-header" layout="row">

                                                            <th flex="60">Data Type</th>
                                                            <th flex="20">As is</th>
                                                            <th flex="20">As Flavor</th>

                                                        </tr>

                                                        </thead>
                                                        <tbody style="display: block; max-height: 300px; overflow: scroll">
                                                        <tr ng-repeat="datatype in hl7Datatypes | orderBy: 'name' | filter:search:strict"
                                                            layout="row">

                                                            <td flex="60">
                                                                <display-label of="datatype" desc="true"></display-label>
                                                            </td>
                                                            <td flex="20"><a class="pointer" ng-show="!checkExist(datatype)"
                                                                             ng-click="addDt(datatype)"><i
                                                                    class="fa fa-plus fa-fw"></i></a>
                                                                <p ng-show="checkExist(datatype)">Selected</p>
                                                            </td>
                                                            <td flex="20"><a class="pointer" ng-click="addDtFlv(datatype)"><i
                                                                    class="fa fa-plus fa-fw"></i></a>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="panel panel-default" flex="50" style="margin-left:5px;">
                                            <div class="panel-heading">Selected Data Types</div>
                                            <div class="panel-body container">
                                                <div align="right" class="container" style="margin-top: 8px;">
                                                    <i class="icon-search"></i>
                                                    <input type="search" class="form-control" placeholder="Search"
                                                           ng-model="search1.name"/>
                                                </div>
                                                <table class="table table-bordered table-stripped container">
                                                    <thead>
                                                    <tr class="tbl-header" layout="row">
                                                        <th flex="40">Data Type</th>
                                                        <th flex="40">Edit Extension</th>
                                                        <th flex="20">Actions</th>

                                                    </tr>
                                                    </thead>
                                                    <tbody style="display: block; max-height: 300px; overflow: scroll">
                                                    <tr ng-repeat="dt in selectedDatatypes" layout="row">
                                                        <td flex="40">
                                                            <display-label of="dt" desc="false"></display-label>
                                                        </td>
                                                        <td flex="40"><span ng-show="!edit">{{dt.ext}}</span>
                                                            <a class="pointer"
                                                               ng-show="!edit && dt.ext!==null && dt.ext!==''&& dt.status!=='PUBLISHED'"
                                                               ng-click="edit=true;checkExt(dt)"><i
                                                                    class="fa fa-pencil fa-fw"></i></a>
                                                            <input ng-show="edit" ng-change="checkExt(dt)" ng-model="dt.ext"/>
                                                            <a class="pointer" ng-show="edit && checkedExt && NocheckedExt"
                                                               ng-click="edit=false"><i class="fa fa-check-circle"></i></a>
                                                            <span ng-if="edit && !checkedExt" class="danger">This extension already exists</span>
                                                            <span ng-if="edit && !NocheckedExt" class="danger">A flavor must have an extension</span>
                                                        </td>


                                                        <td flex="20"><a class="pointer" ng-click="deleteDt(dt)"><i
                                                                class="fa fa-times fa-fw"></i></a></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <md-dialog-actions layout="row">
                    <md-button class="md-primary md-raised" md-autofocus ng-click="ok()"
                               ng-disabled="!checkedExt||!NocheckedExt||selectedDatatypes.length===0">
                        Add
                    </md-button>
                </md-dialog-actions>
            </md-dialog-content>
        </form>
        </div>
    </md-dialog>
</script>