<style id="antiClickjack">
    body {
        display: none !important;
    }
</style>
<script type="text/javascript">
    if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
        top.location = self.location;
    }
</script>
<style>

    .selected {
        /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#87e0fd+0,05abe0+100 */
        background: #87e0fd; /* Old browsers */
        background: -moz-linear-gradient(top, #87e0fd 0%, #05abe0 100%);
        /* FF3.6-15 */
        background: -webkit-linear-gradient(top, #87e0fd 0%, #05abe0 100%);
        /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(to bottom, #87e0fd 0%, #05abe0 100%);
        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#87e0fd',
        endColorstr='#05abe0', GradientType=0); /* IE6-9 */
        color: white;
        /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#356aa0+0,356aa0+100;Blue+Flat */
        background: #356aa0; /* Old browsers */
        background: -moz-linear-gradient(top, #356aa0 0%, #356aa0 100%);
        /* FF3.6-15 */
        background: -webkit-linear-gradient(top, #356aa0 0%, #356aa0 100%);
        /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(to bottom, #356aa0 0%, #356aa0 100%);
        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#356aa0',
        endColorstr='#356aa0', GradientType=0); /* IE6-9 */
    }

    .panel-body {

    }
    /* .fa{ */
    /* font-size: 18px; */
    /* } */
    .treeRoot {
        font-size: 18px;
    }

    .treeSection {
        font-size: 16px;
        margin-left: -10px;
    }

    .treeSubSection {
        font-size: 14px;
    }

    .treeUnderSubSection {
        font-size: 13px;
    }
    .cursorMove{
    cursor: move;}
    .message {
        font-size: 17px;
    }

    .messageContent {
        font-size: 16;
    }

    .messageSubContent {
        font-size: 12px;
        margin-left:45px;
    }
    .uitree{
 margin-left:8px;
    }
    .label-USE{
    background-color: green;}
    
       .label-HL7{
    background-color: red;}
    
    .label-MASTER{
    background-color: yellow;
    }
    
    span{
    cursor: pointer;
    font-weight: normal;
 
    }

</style>
<div ng-controller="IGDocumentListCtrl" class="uitree">
<div ng-controller="HL7VersionsDlgCtrl">
    <div ng-controller="TreeCtrl">
        <div ui-tree="treeOptions">
            <ol ui-tree-nodes="" ng-model="TreeIgs">
                <li ng-repeat="ig in TreeIgs" ui-tree-node ng-init="updatePositions(ig.childSections)">
                    <div ui-tree-handle class="treeRoot">
                        <span data-nodrag ng-click="editIg(ig)" context-menu="igOptions">{{igdocument.metaData.title}}</span>
                    </div>


                    <script type="text/ng-template" id="nodes_renderer.html">

                        <div ui-tree-handle context-menu="sectionOption" style="font-size:{{18-1*this.depth()}}px;">
                            <span class="glyphicon glyphicon-move cursorMove" ></span> <i
                                ng-show="section.childSections.length>0" data-nodrag
                                ng-click="toggle(this);" class="fa fa-caret-down"
                                ng-class="{'fa-caret-down': !collapsed, 'fa-caret-right': collapsed}"></i>
 								<span data-nodrag data-nodrag
                                      ng-class="{selected : section.id===activeModel}"
                                      ng-click="editSection(section);Activate(section.id)">
 								{{getLabel(this)}}.{{section.sectionTitle}} </span>
                        </div>

                        <ol ui-tree-nodes="" ng-model="section.childSections" data-type="sections" ng-if="section.childSections&&!this.NodeScope.collapsed" >
                            <li ng-repeat="section in section.childSections" ui-tree-node ng-include="'nodes_renderer.html'" data-type="sections"  ng-if="section.childSections&&!collapsed">
                            </li>
                        </ol>
                        {{updatePositions(section.childSections)}}
                    </script>
                    <ol  ui-tree-nodes="" ng-model="ig.childSections" data-type="sections" >
                        <li ng-repeat="section in ig.childSections" ui-tree-node ng-include="'nodes_renderer.html'" data-type="sections" ng-init="x=section.sectionPosition" ng-if="!this.$parentNodeScope.collapsed" style="margin-left:5px;"></li>

                    </ol>
                    
                    <div  class="message" style="margin-left:45px;">
                        <i data-nodrag ng-click="switcherprofile()" class="fa fa-caret-down"
                           ng-class="{'fa-caret-down': !profilecollapsed, 'fa-caret-right': profilecollapsed}"></i>
         

						<span  data-nodrag ng-click="editProfile();"  ng-class="{selected :activeModel ==='Message Infrastructure'}">
						{{ig.childSections.length+1}}.Message Infrastructure</span>
                    </div>
                    <ol ui-tree-nodes="" ng-model="ig.profile.messages.children"
                        ng-show="!profilecollapsed" data-type="messages">
                        <div  ui-tree-handle class="messageContent" style="margin-left:45px;">

                            <i data-nodrag ng-click="switchermsg()" class="fa fa-caret-down"
                               ng-class="{'fa-caret-down': !collapsemessage, 'fa-caret-right': collapsemessage}"></i>

							 <span context-menu="MessagesRootOption" ng-class="{selected :activeModel ==='Conformance Profiles'}"
                                   ng-click="editRoutSection('Conformance Profiles');" data-nodrag >
									{{ig.childSections.length+1}}.1.Conformance Profiles </span>
                        </div>
                        <li ng-repeat="msg in ig.profile.messages.children | filter:showToC" ui-tree-node
                            ng-if="!collapsemessage" data-type="message">
                            <div ui-tree-handle class="messageSubContent"
                                 context-menu="MessagesOption">
                                <span class="glyphicon glyphicon-move"></span> <span data-nodrag style ="font-weight: normal;"

                                                                                     ng-class="{selected : msg.id===activeModel}"
                                                                                     ng-click="editMessage(msg);Activate(msg.id)">
									{{updateMessagePositions(ig.profile.messages.children)}}
									[{{msg.position}}]	{{msg.name}}-{{msg.description}}	
									</span>

                            </div>
                        </li>
                    </ol>


                    <ol ui-tree-nodes="" ng-model="segments"
                        ng-show="!profilecollapsed" data-type="segments">
                        <div ui-tree-handle class="messageContent" style="margin-left:45px;">
                            <i data-nodrag ng-click="switcherseg()" class="fa fa-caret-down"
                               ng-class="{'fa-caret-down': !collapsesegment, 'fa-caret-right': collapsesegment}"></i>

							<span data-nodrag  ng-class="{selected :activeModel ==='Segments and field descriptions'}"
                                  ng-click="editRoutSection('Segments and field descriptions')">
								{{ig.childSections.length+1}}.2.Segments and field descriptions</span>
                        </div>
                        <li ng-repeat="segment in segments  | orderBy :'label'"
                            ui-tree-node ng-if="!collapsesegment" data-type="segment">
                            <div ui-tree-handle class="messageSubContent" data-nodrag
                                 ng-click="editSeg(segment)" context-menu="SegmentOptions">
								<span data-nodrag style ="font-weight: normal;"
                                      ng-class="{selected : segment.id===activeModel}"
                                      ng-click=" editSeg(segment);Activate(segment.id)">
                                      
                                       <span class="label label-icon " ng-class="{'label-HL7' : getScopeLabel(segment)==='HL7',
                                   'label-USE':  getScopeLabel(segment)==='USE','label-MASTER':getScopeLabel(segment)==='MAS'}" >  {{getScopeLabel(segment)}}</span> 
                                       {{getSegmentLabel(segment)}}-{{segment.description}} {{isUnused(segment)}}</span>
                            </div>
                        </li>
                    </ol>

                    <ol ui-tree-nodes="" ng-model="datatypes" ng-show="!profilecollapsed" data-type="datatypes" >
                        <div ui-tree-handle class="messageContent" style="margin-left:45px;">
                            <i data-nodrag ng-click="switcherdata()"
                               class="fa fa-caret-down" 
                               ng-class="{'fa-caret-down': !collapsedata, 'fa-caret-right': collapsedata}"></i>

							<span ng-class="{selected :activeModel ==='Datatypes'}"
                                    data-nodrag ng-click="editRoutSection('Datatypes')">{{ig.childSections.length+1}}.3.Datatypes</span>
                        </div>

                        <li ng-repeat="data in datatypes  | orderBy :'label'" ui-tree-node
                            ng-if="!collapsedata" data-type="datatype">
                            <div ui-tree-handle class="messageSubContent" data-nodrag
                                 ng-click="editDataType(data);debug(data)" context-menu="DataTypeOptions">
								<span data-nodrag style ="font-weight: normal;"
                                      ng-class="{selected : data.id===activeModel}"
                                      ng-click="editDataType(data); Activate(data.id)">
                                     <span class="label label-icon " ng-class="{'label-HL7' : getScopeLabel(data)==='HL7',
                                   'label-USE':  getScopeLabel(data)==='USE','label-MASTER':getScopeLabel(data)==='MAS'}" >  {{getScopeLabel(data)}}</span> 
                                      
                                      {{getDatatypeLabel(data)}}-{{data.description}}</span>

                            </div>
                        </li>
                    </ol>

                    <ol ui-tree-nodes="" ng-model="tables" ng-show="!profilecollapsed" data-type="tables">
                        <div ui-tree-handle class="messageContent" style="margin-left:45px;">
                            <i data-nodrag ng-click="switchervalueSet()"
                               class="fa fa-caret-down" 
                               ng-class="{'fa-caret-down': !collapsevalueSet, 'fa-caret-right': collapsevalueSet}"></i>

							<span ng-class="{selected :activeModel ==='Value Sets'}"
                                    data-nodrag ng-click="editRoutSection('Value Sets')">{{ig.childSections.length+1}}.4.Value Sets</span>
                        </div>

                        <li ng-repeat="table in tables |  orderBy :'name'" ui-tree-node
                            ng-if="!collapsevalueSet" data-type="table">
                            <div ui-tree-handle class="messageSubContent" data-nodrag
                                 ng-click="editDataType('Value Sets')" context-menu="ValueSetOptions">
								<span data-nodrag style ="font-weight: normal;"
                                      ng-class="{selected : table.id===activeModel}"
                                      ng-click="editDataType(table); Activate(table.id)">
                                     <span class="label label-icon " ng-class="{'label-HL7' : getScopeLabel(table)==='HL7',
                                   'label-USE':  getScopeLabel(table)==='USE','label-MASTER':getScopeLabel(table)==='MAS'}" >  {{getScopeLabel(table)}}</span> 
                                      
                                      {{table.bindingIdentifier}}-{{table.description}}</span>

                            </div>
                        </li>
                    </ol>
                </li>
            </ol>
           
        </div>
        
        
        
<!--                <div ui-tree="treeOptions"  > -->
<!--             <ol ui-tree-nodes="" ng-model="unusedTree"> -->
<!--                 <li ng-repeat="unusedObject in getUnusedTree" ui-tree-node > -->
<!--                     <div ui-tree-handle class="treeRoot"> -->
<!--                         <span data-nodrag>Unused Data</span> -->
<!--                     </div> -->


<!--                     <ol ui-tree-nodes="" ng-if="unusedObject.unusedSegments.length>0"  ng-model="unusedObject.unusedSegments"  -->
<!--                         ng-show="!profilecollapsed" data-type="segments"> -->
<!--                         <div ui-tree-handle class="messageContent" style="margin-left:45px;"> -->
<!--                             <i data-nodrag ng-click="switcherseg()" class="fa fa-caret-down" -->
<!--                                ng-class="{'fa-caret-down': !collapsesegment, 'fa-caret-right': collapsesegment}"></i> -->

<!-- 							<span data-nodrag  ng-class="{selected :activeModel ==='Segments and field descriptions'}" -->
<!--                                   ng-click="editRoutSection('Segments and field descriptions')"> -->
<!-- 								{{ig.childSections.length+1}}.2.unused Segments</span> -->
<!--                         </div> -->
<!--                         <li ng-repeat="segment in unusedObject.unusedSegments | orderBy :'label'" -->
<!--                             ui-tree-node ng-if="!collapsesegment" data-type="segment"> -->
<!--                             <div ui-tree-handle class="messageSubContent" data-nodrag -->
<!--                                  ng-click="editSeg(segment)" context-menu="SegmentOptions"> -->
<!-- 								<span data-nodrag style ="font-weight: normal;" -->
<!--                                       ng-class="{selected : segment.id===activeModel}" -->
<!--                                       ng-click=" editSeg(segment);Activate(segment.id)"> -->
                                      
<!--                                        <span class="label label-icon " ng-class="{'label-HL7' : getScopeLabel(segment)==='HL7', -->
<!--                                    'label-USE':  getScopeLabel(segment)==='USE','label-MASTER':getScopeLabel(segment)==='MAS'}" >  {{getScopeLabel(segment)}}</span>  -->
                                    
                                      
                                      
<!--                                        {{segment.label}}-{{segment.description}} {{isUnused(segment)}}</span> -->
<!--                             </div> -->
<!--                         </li> -->
<!--                     </ol> -->

<!--                     <ol ui-tree-nodes="" ng-model="unusedObject.unusedDataTypes" ng-if="unusedObject.unusedDataTypes.length>0" ng-show="!profilecollapsed" data-type="datatypes" > -->
<!--                         <div ui-tree-handle class="messageContent" style="margin-left:45px;"> -->
<!--                             <i data-nodrag ng-click="switcherdata()" -->
<!--                                class="fa fa-caret-down"  -->
<!--                                ng-class="{'fa-caret-down': !collapsedata, 'fa-caret-right': collapsedata}"></i> -->

<!-- 							<span ng-class="{selected :activeModel ==='Datatypes'}" -->
<!--                                     data-nodrag ng-click="editRoutSection('Datatypes')">{{ig.childSections.length+1}}.3.Unused Datatypes</span> -->
<!--                         </div> -->

<!--                         <li ng-repeat="data in unusedObject.unusedDataTypes  | orderBy :'label'" ui-tree-node -->
<!--                             ng-if="!collapsedata" data-type="datatype"> -->
<!--                             <div ui-tree-handle class="messageSubContent" data-nodrag -->
<!--                                  ng-click="editDataType(data)" context-menu="DataTypeOptions"> -->
<!-- 								<span data-nodrag style ="font-weight: normal;" -->
<!--                                       ng-class="{selected : data.id===activeModel}" -->
<!--                                       ng-click="editDataType(data); Activate(data.id)"> -->
<!--                                      <span class="label label-icon " ng-class="{'label-HL7' : getScopeLabel(data)==='HL7', -->
<!--                                    'label-USE':  getScopeLabel(data)==='USE','label-MASTER':getScopeLabel(data)==='MAS'}" >  {{getScopeLabel(data)}}</span>  -->
                                      
<!--                                       {{data.label}}-{{data.description}}</span> -->

<!--                             </div> -->
<!--                         </li> -->
<!--                     </ol> -->

<!--                     <ol ui-tree-nodes="" ng-if="unusedObject.unusedTables" ng-model="unusedObject.unusedTables" ng-show="!profilecollapsed" data-type="tables"> -->
<!--                         <div ui-tree-handle class="messageContent" style="margin-left:45px;"> -->
<!--                             <i data-nodrag ng-click="switchervalueSet()" -->
<!--                                class="fa fa-caret-down"  -->
<!--                                ng-class="{'fa-caret-down': !collapsevalueSet, 'fa-caret-right': collapsevalueSet}"></i> -->

<!-- 							<span ng-class="{selected :activeModel ==='Value Sets'}" -->
<!--                                     data-nodrag ng-click="editRoutSection('Value Sets')">{{ig.childSections.length+1}}.4.Value Sets</span> -->
<!--                         </div> -->

<!--                         <li ng-repeat="table in unusedObject.unusedTables |  orderBy :'name'" ui-tree-node -->
<!--                             ng-if="!collapsevalueSet" data-type="table"> -->
<!--                             <div ui-tree-handle class="messageSubContent" data-nodrag -->
<!--                                  ng-click="editDataType('Value Sets')" context-menu="DataTypeOptions"> -->
<!-- 								<span data-nodrag style ="font-weight: normal;" -->
<!--                                       ng-class="{selected : table.id===activeModel}" -->
<!--                                       ng-click="editDataType(table); Activate(table.id)"> -->
<!--                                      <span class="label label-icon " ng-class="{'label-HL7' : getScopeLabel(table)==='HL7', -->
<!--                                    'label-USE':  getScopeLabel(table)==='USE','label-MASTER':getScopeLabel(table)==='MAS'}" >  {{getScopeLabel(table)}}</span>  -->
                                      
<!--                                       {{table.bindingIdentifier}}-{{table.description}}</span> -->

<!--                             </div> -->
<!--                         </li> -->
<!--                     </ol> -->
<!--                 </li> -->
<!--             </ol> -->
<!--         </div> -->


        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        

        <!-- 	<trunk trunk="tocData"></trunk> -->

    </div>
 </div>
</div>

<!--
	Context menu partials.
-->
<div class="dropdown position-fixed" id="headContextDiv.html"
     ng-controller="ContextMenuCtl">
    <ul class="dropdown-menu" role="menu">
        <li><a class="pointer" role="menuitem" tabindex="1"
               ng-click="clicked('Copy')"> <i class="fa fa-plus fa-fw"></i>Copy
        </a></li>
    </ul>
</div>

<div class="dropdown position-fixed" id="messageHeadContextDiv.html"
     ng-controller="HL7VersionsDlgCtrl">
    <ul class="dropdown-menu" role="menu">
        <li><a class="pointer" role="menuitem" tabindex="1"
               ng-click="hl7Versions('ctx')"><i class="fa fa-plus fa-fw"></i>Add</a></li>
        <li><a class="pointer" role="menuitem" tabindex="2"
               ng-click="selectMessages(igdocument)"><i
                class="fa fa-download fa-fw"></i>Export</a></li>
    </ul>
</div>

<div class="dropdown position-fixed" id="tableHeadContextDiv.html"
     ng-controller="HL7VersionsDlgCtrl">
    <ul class="dropdown-menu" role="menu">
        <li><a class="pointer" role="menuitem" tabindex="1"
               ng-click="addTable(igdocument)"><i class="fa fa-plus fa-fw"></i>Add</a></li>
    </ul>
</div>

<div class="dropdown position-fixed" id="messageContextDiv.html"
     ng-controller="ContextMenuCtl">
    <ul class="dropdown-menu" role="menu">
        <li><a class="pointer" role="menuitem" tabindex="1"
               ng-click="clicked('Copy')"><i class="fa fa-plus fa-fw"></i>Copy</a></li>
        <li><a class="pointer" role="menuitem" tabindex="2"
               ng-click="clicked('Delete')"><i class="fa fa-trash-o fa-fw"></i>Delete</a></li>
        <li><a class="pointer" role="menuitem" tabindex="3"
               ng-click="selectMessages(igdocument)"><i
                class="fa fa-download fa-fw"></i>Export</a></li>
    </ul>
</div>

<div class="dropdown position-fixed" id="contextDiv.html"
     ng-controller="ContextMenuCtl">
    <ul class="dropdown-menu" role="menu">
        <li><a class="pointer" role="menuitem" tabindex="1"
               ng-click="clicked('Copy')"><i class="fa fa-plus fa-fw"></i>Copy</a></li>
        <li><a class="pointer" role="menuitem" tabindex="2"
               ng-click="clicked('Delete')"><i class="fa fa-trash-o fa-fw"></i>Delete</a></li>
    </ul>
</div>

<script type="text/ng-template" id="Metadata.html">
    <a class="point txt" ng-click="tocSelection(node.title, node)">
        <!--<span class="fa"-->
        <!--ng-class="{-->
        <!--'': !collapsed[node.title]-->
        <!--}"></span>-->
        <span class="">{{node.title}}</span></a>
</script>
<script type="text/ng-template" id="DefaultEntry.html">
    <a class="point txt">
        <span class="fa" ng-class="{'': !collapsed[member.label]}">{{member.label}}</span>
        <!--
            <span class="" ng-show="nnode.type === 'segment'">{{nnode.label}}</span>
            <span class="" ng-show="nnode.type === 'table'">{{nnode.bindingIdentifier}}</span>
            <span class="" ng-show="nnode.type === 'datatype'">{{nnode.label}}</span>
            <span class="" ng-show="nnode.type === 'message'">{{nnode.structID}}</span>
        -->
    </a>
</script>
<script type="text/ng-template" id="Message.html">
    <a class="point txt" ng-click="tocSelection(node.title, nnode)">
        <!--<span class="fa"-->
        <!--ng-class="{-->
        <!--'': !collapsed[node.title]-->
        <!--}"></span>-->
        <span class="" ng-show="nnode.type === 'segment'">{{nnode.label}}</span>
        <span class="" ng-show="nnode.type === 'table'">{{nnode.bindingIdentifier}}</span>
        <span class="" ng-show="nnode.type === 'datatype'">{{nnode.label}}</span>
        <span class="" ng-show="nnode.type === 'message'">{{nnode.structID}}</span>
    </a>
</script>