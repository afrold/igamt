<style id="antiClickjack">body{display:none !important;}</style>
<script type="text/javascript">
    if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
        top.location = self.location;
    }
</script>
<script type="text/ng-template" id="warning-dialog.html">
    <div class="modal-header">
        <h3>Your session will expire soon!</h3>
    </div>
    <div idle-countdown="countdown" ng-init="countdown=30" class="modal-body">
        <progressbar type="warning" max="30" value="30" animate="false" class="progress-striped active">Your
            session
            will expire in {{countdown}} second(s).
        </progressbar>
    </div>
</script>

<script type="text/ng-template" id="timedout-dialog.html">
    <div class="modal-body info-dlg">
        <p>
            Your session has expired.
        </p>
    </div>
</script>

<script type="text/ng-template" id="NewAppVersion.html">
    <div class="modal-body error-dlg">
        <div ng-include="'InvalidAppState.html'"></div>
        <br/>
        <div style="text-align:center">
            <p>Please click
                <button class="btn btn-raised btn-xs btn-primary" ng-click="close()" type="button"
                        title="Cancel" class="point">
                    <i class="fa fa-refresh"></i>
                    reset
                </button>
                to reinitialize your browser.</p>
        </div>

    </div>
</script>

<script type="text/ng-template" id="CriticalError.html">
    <div class="modal-body error-dlg">
        <p ng-bind="error">
        </p>
    </div>
    <div class="modal-footer error-dlg">
        <div class="pull-right">
            <button class="btn btn-raised btn-xs btn-primary" ng-click="close()" type="button"
                    title="Cancel" class="point">
                <i class="fa fa-times"></i>
                Close
            </button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="ConfirmLogout.html">

    <div class="modal-header">
        <h3 class="modal-title">Logout Confirmation
        </h3>
    </div>
    <div class="modal-body">
        <p>You currently have unsaved changes. Are you sure you want to proceed ? All unsaved changes will
            be lost</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm" ng-disabled="loading" ng-click="logout()"><span><i
                class="fa fa-sign-out fa-fw">&nbsp; </i>Logout</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
    </div>
</script>

<script type="text/ng-template" id="ConfirmLeaveDlg.html">
    <div class="modal-header">
        <p class="modal-title" style="font-size:20px; font-weight:bold"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Confirmation
        </p>
    </div>
    <div class="modal-body">
        <p style="text-align: left">You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.</p>
    </div>
    <div class="modal-footer">

        <button class="btn btn-raised btn-default btn-sm" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm"  ng-click="discard()"><span><i
                class="fa fa-sign-out fa-fw">&nbsp; </i>Discard Changes</span>
        </button>
        <button class="btn btn-raised btn-success btn-sm"  ng-click="save()"><span><i
                class="fa fa-sign-out fa-fw">&nbsp; </i>Save and Continue</span>
        </button>
	<div ng-show="error!=null" ng-bind="error"></div>
    </div>
</script>

<script type="text/ng-template" id="NotificationSuccessTemplate.html">
    <div class="ui-notification custom-template">
        <div class="message">
            <i class="fa fa-check" aria-hidden="true"></i>
             <span ng-bind-html="message"></span>
        </div>
    </div>
</script>

<script type="text/ng-template" id="NotificationErrorTemplate.html">
    <div class="ui-notification custom-template">
        <div class="message">
            <i class="fa fa-times" aria-hidden="true"></i>
            <span ng-bind-html="message"></span>
        </div>
    </div>
</script>

<script type="text/ng-template" id="NotificationWarningTemplate.html">
    <div class="ui-notification custom-template">
        <div class="message">
            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            <span ng-bind-html="message"></span>
        </div>
    </div>
</script>

<script type="text/ng-template" id="Blank.html">
         No Section Selected
 </script>

<script type="text/ng-template" id="CreateNewIGAlert.html">
    <div class="modal-header">
        <p class="modal-title" style="font-size:20px; font-weight:bold"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Alert
        </p>
    </div>
    <div class="modal-body">
        <p style="text-align: left">You Currently Have An IG Document In Progress. Please Close The Current IG Document Before Creating A New One.</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm" ng-click="close()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span>
        </button>
    </div>
</script>

<script type="text/ng-template" id="hl7VersionsDlg.html">
    <form id="hl7VersionsDlgForm" name="hl7VersionsDlgForm" class="form-horizontal">

        <div class="modal-header modal-wide">
            <div class="form-inline">
                <span class="header4" style="color:white;">Create IG Document</span>

                <button ng-show="clickSource === 'btn'" class="btn btn-raised btn-info btn-xs pull-right" type="button" ng-click="ok()" ng-disabled="okDisabled || hl7VersionsDlgForm.$invalid">
                    <i class="fa fa-check"></i>Submit
                </button>
                <button ng-show="clickSource === 'ctx'" class="btn btn-raised btn-info btn-xs pull-right" type="button" ng-click="ok()" ng-disabled="okDisabled">
                    <i class="fa fa-check"></i>Submit
                </button>
                <button class="btn btn-raised btn-default btn-xs pull-right" type="button" ng-click="cancel()">
                    <i class="fa fa-times"></i>Cancel
                </button>
            </div>
        </div>
        <div class="modal-body">

            <div class="col-md-12">
                <div ng-show="clickSource === 'btn'" ng-class="{'igl-has-error has-feedback' : hl7VersionsDlgForm.hl7Version.$invalid}">
                    <label class="col-md-2 control-label" style="text-align: left">HL7 Version*:</label>

                    <div class="col-md-3">
                        <select class="form-control" name="hl7Version" id="hl7Version" ng-change="loadIGDocumentsByVersion()" ng-disabled="loading || igdocument" required ng-model="hl7Version" ng-options="vr for vr in hl7Versions" />
                    </div>
                </div>

                <!--<div class="col-md-12">-->
                <!--<h4 class="modal-title">Select HL7 Version</h4>-->
                <!--</div>-->
                <!--<div class="col-md-12">-->
                <!--<div ng-show="!igdocument" class="btn-group btn-group-sm pull-left" data-toggle="buttons">-->
                <!--<label class="btn btn-raised btn-primary btn-xs"-->
                <!--ng-click="$parent.hl7Version = vr; loadIGDocumentsByVersion()"-->
                <!--ng-class="{'active':vr === hl7Version}" ng-repeat="vr in hl7Versions">-->
                <!--<input ng-disabled="loading" type="radio" ng-value="vr" ng-model="$parent.hl7Version">{{vr}}-->
                <!--</label>-->
                <!--</div>-->
                <!--</div>-->
            </div>



            <accordion ng-show="hl7Version">
                <div accordion-group class="panel-primary" is-open="status.isFirstOpen" ng-show="clickSource==='btn'">
                    <accordion-heading>
                        <span style="color:white;"> IG Document Metadata</span> <i class="pull-left fa" style="color:white;" ng-class="{'fa-chevron-down': status.isFirstOpen, 'fa-chevron-right': !status.isFirstOpen}"></i>
                    </accordion-heading>
                    <div class="row">
                        <!--<div class="row">
                            <label for="example-version-input" class="col-xs-2 col-form-label">HL7 Version*</label>
                            <div class="col-xs-10">
                                <input class="form-control" type="text" ng-model="hl7Version" disabled>

                            </div>
                        </div>-->
                        <div class=" row" style="padding-top:5px">
                            <label for="example-text-input" class="col-xs-2 col-form-label">Title*</label>
                            <div class="col-xs-10">
                                <input class="form-control form-control-xs" type="text" ng-model="hl7VersionsDlgForm.metaData.title" required>
                            </div>
                        </div>
                        <div class=" row">
                            <label for="example-search-input" class="col-xs-2 col-form-label">Sub-Title</label>
                            <div class="col-xs-10">
                                <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.subTitle">
                            </div>
                        </div>
                        <div class=" row">
                            <label for="example-email-input" class="col-xs-2 col-form-label">Organization</label>
                            <div class="col-xs-10">
                                <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.orgName">
                            </div>
                        </div>
                        <div class="row">
                            <label for="example-url-input" class="col-xs-2 col-form-label">Extension</label>
                            <div class="col-xs-10">
                                <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.ext">
                            </div>
                        </div>
                        <div class="row">
                            <label for="example-tel-input" class="col-xs-2 col-form-label">Specification</label>
                            <div class="col-xs-10">
                                <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.specificationName">
                            </div>
                        </div>
                        <div class="row">
                            <label for="example-password-input" class="col-xs-2 col-form-label">Status</label>
                            <div class="col-xs-10">
                                <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.status">
                            </div>
                        </div>
                        <div class="row">
                            <label for="example-number-input" class="col-xs-2 col-form-label">Topics</label>
                            <div class="col-xs-10">
                                <input class="form-control" type="text" ng-model="hl7VersionsDlgForm.metaData.topics">
                            </div>
                        </div>

                    </div>
                </div>
                <div accordion-group class="panel-primary" is-open="status.isSecondOpen">
                    <accordion-heading>
                        <span style="color:white;"> List of Events*</span> <i class="pull-left fa" style="color:white;" ng-class="{'fa-chevron-down': status.isSecondOpen, 'fa-chevron-right': !status.isSecondOpen}"></i>
                    </accordion-heading>
                    <div class="input-group">
                        <span class="input-group-addon">Selected Messages:</span>
                        <span ng-repeat="event in eventList" class="label label-primary">{{event.name}}^{{event.parentStructId}}</span>

                    </div>
                    <div class="row" style="margin-left:20px">
                        <div ng-show="loading" style="text-align:center">
                            <i class="fa fa-spinner fa-pulse fa-2x"></i>
                        </div>
                        <div ng-show="!loading">
                            <div class="table-responsive">
                                <table tt-table tt-params="messageEventsParams" ng-if="messageEventsParams" class="table table-striped table-bordered table-fix-header table-condensed hl7-versions-table">
                                    <thead>
                                    <tr class="tbl-header">
                                        <td class="" style="width:300px">Struct ID</td>
                                        <td class="" style="width:600px">Description</td>
                                    </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </accordion>

        </div>
        <div class="modal-footer">

        </div>
    </form>
</script>
<script type="text/ng-template" id="MessageEventsNode.html">
    <tr tt-node is-branch="node.type === 'message'">
        <td class="" style="width:300px;color:black">

            <input ng-show="node.type === 'event'" type="checkbox" ng-model="bool" ng-change="trackSelections(bool, node)"></input><span ng-bind="::node.name" style="margin-left : 7px;"></span>
        </td>
        <td class="" style="width:585px;color:black"" ng-bind="::node.description"></td>

    </tr>

</script>


<script type="text/ng-template" id="ConfirmIGDocumentDeleteCtrl.html">
    <div class="modal-header">
        <h3 class="modal-title">Delete Confirmation
        </h3>
    </div>
    <div class="modal-body">

        <p>Are you sure you want to delete the IG Document:"{{igdocumentToDelete.metaData.title}}"  ? This operation is irreversible</p>
    </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-default btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
        <button class="btn btn-raised btn-danger btn-sm" ng-disabled="loading" ng-click="delete()"><span><i
                class="fa fa-trash-o fa-fw">&nbsp; </i>Delete</span>
        </button>
        <div ng-show="loading" style="text-align:center;padding-top:20px; padding-bottom:20px">
            <img class="ajax-loading" ng-src="images/ajax-loader.gif" alt="loading..."/>
        </div>
    </div>
    </div>
</script>

<script type="text/ng-template" id="ConfirmIGDocumentCloseCtrl.html">
    <div class="modal-header">
        <h3 class="modal-title">Close Confirmation
        </h3>
    </div>
    <div class="modal-body">
        <p>You currently have unsaved changes. Are you sure you want to close the IG Document ? All unsaved changes will
            be lost</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-default btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm" ng-disabled="loading" ng-click="discardChangesAndClose()"><span><i
                class="fa fa-times-circle fa-fw">&nbsp; </i>Discard Changes</span>
        </button>
        <button class="btn btn-raised btn-primary btn-sm" ng-disabled="loading" ng-click="saveChangesAndClose()"><span><i
                class="fa fa-check-circle fa-fw">&nbsp; </i>Apply Changes</span>
        </button>
        <div ng-show="loading" style="text-align:center;padding-top:20px; padding-bottom:20px">
            <img class="ajax-loading" ng-src="images/ajax-loader.gif" alt="loading..."/>
        </div>
    </div>
</script>
<script type="text/ng-template" id="ConfirmIGDocumentOpenCtrl.html">
    <div class="modal-header">
        <h3 class="modal-title">Open Confirmation
        </h3>
    </div>
    <div class="modal-body">
        <p>You currently have an open IG document with unsaved changes. Are you sure you want to open the IG document ?
            All unsaved changes will be lost</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-default btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm" ng-disabled="loading" ng-click="discardChangesAndOpen()"><span><i
                class="fa fa-times-circle fa-fw">&nbsp; </i>Discard Changes</span>
        </button>
        <button class="btn btn-raised btn-primary btn-sm" ng-disabled="loading" ng-click="saveChangesAndOpen()"><span><i
                class="fa fa-check-circle fa-fw">&nbsp; </i>Apply Changes</span>
        </button>
        <div ng-show="loading" style="text-align:center;padding-top:20px; padding-bottom:20px">
            <img class="ajax-loading" ng-src="images/ajax-loader.gif" alt="loading..."/>
        </div>
    </div>
</script>
<script type="text/ng-template" id="RichTextCtrl.html">
    <div class="modal-header modal-wide">
        <h3 class="modal-title">{{editorTarget.obj.position}} . {{editorTarget.obj.name}} :
            {{editorTarget.title}}</h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">
                <div ng-if="!editorTarget.disabled">
                    <textarea rows="10" froala="froalaEditorOptions" style="width:100%;" autofocus ng-model="editorTarget.obj[editorTarget.key]"
                              id="globalEditor" name="content" ng-change="recordChanged()"></textarea>
                </div>
                <div ng-if="editorTarget.disabled" style="width:100%;">
                    <div froala-view="editorTarget.obj[editorTarget.key]"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-md" ng-click="close()"><span><i class="fa fa-times fa-fw">
            &nbsp; </i>Close</span>
        </button>
    </div>
</script>
<script type="text/ng-template" id="InputTextCtrl.html">
    <div class="modal-header">
        <h3 ng-show="editorTarget.obj.type==='segmentRef'">
            {{editorTarget.obj.position}}.{{segmentsMap[editorTarget.obj.ref].name}}:{{segmentsMap[editorTarget.obj.ref].description}}</h3>

        <h3 ng-show="editorTarget.obj.type==='group'">{{editorTarget.obj.position}}.{{editorTarget.obj.name}}</h3>

        <h3 ng-show="editorTarget.obj.type !='segmentRef' && editorTarget.obj.type !='group'" class="modal-title">
            {{editorTarget.obj.position}} . {{editorTarget.obj.name}} :
            {{editorTarget.title}}</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="row">
                <div class="col-md-12">
                    <textarea rows="10" type="text" ng-disabled="editorTarget.disabled" style="width:100%;" autofocus
                              name="inputEditor" class="form-control"
                              ng-change="recordChanged()"
                              ng-model="editorTarget.obj[editorTarget.key]"></textarea>
                </div>
            </div>
        </form>
    </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-md" ng-click="close()"><span><i class="fa fa-times fa-fw">
            &nbsp; </i>Close</span>
        </button>
    </div>
</script>