<style id="antiClickjack">body{display:none !important;}</style>
<script type="text/javascript">
    if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
        top.location = self.location;
    }
</script>
<script type="text/ng-template" id="warning-dialog.html">
    <div class="modal-header">
        <h3>Your session will expire soon!</h3>
    </div>
    <div idle-countdown="countdown" ng-init="countdown=30" class="modal-body">
        <progressbar type="warning" max="30" value="30" animate="false" class="progress-striped active">Your
            session
            will expire in {{countdown}} second(s).
        </progressbar>
    </div>
</script>

<script type="text/ng-template" id="timedout-dialog.html">
    <div class="modal-body info-dlg">
        <p>
            Your session has expired.
        </p>
    </div>
</script>

<script type="text/ng-template" id="NewAppVersion.html">
    <div class="modal-body error-dlg">
        <div ng-include="'InvalidAppState.html'"></div>
        <br/>
        <div style="text-align:center">
            <p>Please click
                <button class="btn btn-raised btn-xs btn-primary" ng-click="close()" type="button"
                        title="Cancel" class="point">
                    <i class="fa fa-refresh"></i>
                    reset
                </button>
                to reinitialize your browser.</p>
        </div>

    </div>
</script>

<script type="text/ng-template" id="CriticalError.html">
    <div class="modal-body error-dlg">
        <p ng-bind="error">
        </p>
    </div>
    <div class="modal-footer error-dlg">
        <div class="pull-right">
            <button class="btn btn-raised btn-xs btn-primary" ng-click="close()" type="button"
                    title="Cancel" class="point">
                <i class="fa fa-times"></i>
                Close
            </button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="ConfirmLogout.html">

    <div class="modal-header">
        <h3 class="modal-title">Logout Confirmation
        </h3>
    </div>
    <div class="modal-body">
        <p>You currently have unsaved changes. Are you sure you want to proceed ? All unsaved changes will
            be lost</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm" ng-disabled="loading" ng-click="logout()"><span><i
                class="fa fa-sign-out fa-fw">&nbsp; </i>Logout</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
    </div>
</script>

<script type="text/ng-template" id="ConfirmLeaveDlg.html">
    <div class="modal-header">
        <p class="modal-title" style="font-size:20px; font-weight:bold"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Confirmation
        </p>
    </div>
    <div class="modal-body">
        <p style="text-align: left">You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.</p>
    </div>
    <div class="modal-footer">

        <button class="btn btn-raised btn-default btn-sm" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Cancel</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm"  ng-click="discard()"><span><i
                class="fa fa-sign-out fa-fw">&nbsp; </i>Discard Changes</span>
        </button>
        <button class="btn btn-raised btn-success btn-sm"  ng-click="save()"><span><i
                class="fa fa-sign-out fa-fw">&nbsp; </i>Save and Continue</span>
        </button>
	<div ng-show="error!=null" ng-bind="error"></div>
    </div>
</script>

<script type="text/ng-template" id="NotificationSuccessTemplate.html">
    <div class="ui-notification custom-template">
        <div class="message">
            <i class="fa fa-check" aria-hidden="true"></i>
             <span ng-bind-html="message"></span>
        </div>
    </div>
</script>

<script type="text/ng-template" id="NotificationErrorTemplate.html">
    <div class="ui-notification custom-template">
        <div class="message">
            <i class="fa fa-times" aria-hidden="true"></i>
            <span ng-bind-html="message"></span>
        </div>
    </div>
</script>

<script type="text/ng-template" id="NotificationWarningTemplate.html">
    <div class="ui-notification custom-template">
        <div class="message">
            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            <span ng-bind-html="message"></span>
        </div>
    </div>
</script>

<script type="text/ng-template" id="Blank.html">
         No Section Selected
 </script>

<script type="text/ng-template" id="CreateNewIGAlert.html">
    <div class="modal-header">
        <p class="modal-title" style="font-size:20px; font-weight:bold"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Alert
        </p>
    </div>
    <div class="modal-body">
        <p style="text-align: left">You Currently Have An IG Document In Progress. Please Close The Current IG Document Before Creating A New One.</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm" ng-click="close()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span>
        </button>
    </div>
</script>
<script type="text/ng-template" id="AddHL7TableOpenCtrl.html">
    <div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Import HL7 Tables</span>
        </div>
    </div>
        <div class="modal-body">
            <form class="form-horizontal" novalidate>
                <div class="row">
                    <div class="col-md-12">
                        <div class="btn-group btn-group-sm pull-left" data-toggle="buttons">
                            <label class="btn btn-raised btn-primary btn-xs"
                                   ng-click="selectedHL7Version=v r; loadTablesByVersion(vr)"
                                   ng-class="{ 'active':vr===selectedHL7Version}" ng-repeat="vr in hl7Versions">
                                <input type="radio" ng-value="vr" ng-model="$parent.selectedHL7Version">{{vr}}</input>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-6" ng-show="selectedHL7Version !==''">
                        <div ng-show="loading" style="text-align:center">
                            <i class="fa fa-spinner fa-pulse fa-2x"></i>
                        </div>
                        <div ng-show="!loading" class="igl-table">
                            <h5>Tables for {{source}} {{selectedHL7Version}}</h5>
                            <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                <thead>
                                <tr>
                                    <th>Binding Identifier</th>
                                    <th>Name</th>
                                    <th/>
                                </tr>
                                <tr>
                                    <th>
                                        <input ng-model="search.bindingIdentifier" class="form-control" placeholder="by id">
                                    </th>
                                    <th>
                                        <input ng-model="search.name" class="form-control" placeholder="by name">
                                    </th>
                                    <th/>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="table in hl7Tables | orderBy: 'bindingIdentifier' | filter:search:strict">
                                    <td>{{table.bindingIdentifier}}</td>
                                    <td>{{table.name}}</td>
                                    <td><a class="pointer" ng-click="addTable(table)"><i class="fa fa-plus fa-fw"></i></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-6" ng-show="selectedTables.length> 0">
                <div class="igl-table">
                    <h5>Selected tables</h5>
                    <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                        <thead>
                            <tr>
                                <th>Binding Identifier</th>
                                <th>Name</th>
                                <th>HL7 Version</th>
                                <th>oid</th>
                                <th/>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="table in selectedTables">
                                <td>{{table.bindingIdentifier}}</td>
                                <td>{{table.name}}</td>
                                <td>{{table.hl7Version}}</td>
                                <td>{{table.oid}}</td>
                                <td><a class="pointer" ng-click="deleteTable(table)"><i
                                            class="fa fa-times fa-fw"></i></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
</div>
</div>
</form>
</div>
<div class="modal-footer">
    <button class="btn btn-raised btn-primary btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="save()"><span><i
                    class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
    <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="cancel()"><span><i
                    class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
    <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length === 0" ng-disabled="loading" ng-click="cancel()"><span><i
                    class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
</div>
</script>

<script type="text/ng-template" id="AddCSVTableOpenCtrl.html">
    <div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Import CSV file</span>
        </div>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="form-group">
                <div class="col-sm-12">
                    <label for="file" class="custom-file-upload">
                            <i class="fa fa-cloud-upload"></i> Choose CSV File
                        </label>
                    <input id="file" type="file" name="file" />
                </div>
            </div>

            <p style="color:blue;">How it works</p>
            <ol style="color:blue;">
                <li style="color:blue;">Download 'ValueSet Empty Form (Excel)'</li>
                <li style="color:blue;">Edit sheets using MS Excel</li>
                <li style="color:blue;">Save as CSV file</li>
                <li style="color:blue;">Import CSV file</li>
            </ol>

            <p style="color:blue;">Files</p>
            <ul>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_EmptyForm_Excel.xlsx" target="_blank"><i class="fa fa-file-excel-o fa-fw"></i>ValueSet Empty Form (Excel)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_EmptyForm_csv.csv" target="_blank"><i class="fa fa-file-code-o fa-fw"></i>ValueSet Empty Form (CSV)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_sample_excel.xlsx" target="_blank"><i class="fa fa-file-excel-o fa-fw"></i>ValueSet Sample Form (Excel)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_sample_csv.csv" target="_blank"><i class="fa fa-file-code-o fa-fw"></i>ValueSet Sample Form (CSV)</a></li>
            </ul>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm" ng-click="uploadCSVFile()"><span><i class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
        <button class="btn btn-raised btn-warning btn-sm" ng-click="cancel()"><span><i class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
    </div>
</script>

<script type="text/ng-template" id="AddPHINVADSTableOpenCtrl.html">
    <div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Import PHINVADs Tables</span>
        </div>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="form-group">
                <div class="col-sm-11">
                    <input type="text" name="searchText" ng-model="searchText" class="form-control" placeholder="Type Criteria">
                </div>
                <div class="col-sm-1">
                    <a ng-click="searchPhinvads(searchText)" class="point">
                        <span><i class="fa fa-search fa-fw"></i></span>
                    </a>
                </div>
            </div>

            <div class="col-md-6">
                <div ng-show="loading" style="text-align:center">
                    <i class="fa fa-spinner fa-pulse fa-2x"></i>
                </div>
                <div ng-show="!loading && phinvadsTables" class="igl-table">
                    <h5>{{phinvadsTables.length}} tables found!</h5>
                    <table ng-show="phinvadsTables.length > 0" class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                        <thead>
                            <tr>
                                <th>Binding Identifier</th>
                                <th>Name</th>
                                <th/>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="table in phinvadsTables | orderBy:'bindingIdentifier' |  filter:search:strict">
                                <td>{{table.bindingIdentifier}}</td>
                                <td>{{table.name}}</td>
                                <td><a class="pointer" ng-click="addTable(table)"><i class="fa fa-plus fa-fw"></i></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-md-6" ng-show="selectedTables.length > 0">
                <div class="igl-table">
                    <h5>Selected tables</h5>
                    <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                        <thead>
                            <tr>
                                <th class="col-sm-7">Binding Identifier</th>
                                <th class="col-sm-2">Name</th>
                                <th class="col-sm-2">oid</th>
                                <th class="col-sm-1" />
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="table in selectedTables">
                                <td class="col-sm-7" ng-class="{'has-error': isDuplicatedID(table)}">
                                    <textarea rows="3" class="form-control" ng-model="table.bindingIdentifier" />
                                    <div ng-show="isDuplicatedID(table)">
                                        <p class="warning">Duplicated ID</p>
                                    </div>
                                </td>
                                <td class="col-sm-2">
                                    <textarea rows="3" disabled class="form-control" ng-model="table.name" />
                                </td>
                                <td class="col-sm-2">
                                    <textarea rows="3" disabled class="form-control" ng-model="table.oid" />
                                </td>
                                <td class="col-sm-1"><a class="pointer" ng-click="deleteTable(table)"><i class="fa fa-times fa-fw"></i></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="save()"><span><i
                class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
        <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
        <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length === 0" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
    </div>
</script>
<script type="text/ng-template" id="InputTextCtrl.html">
    <div class="modal-header">
        <h3 ng-show="editorTarget.obj.type==='segmentRef'">
            {{editorTarget.obj.position}}.{{segmentsMap[editorTarget.obj.ref].name}}:{{segmentsMap[editorTarget.obj.ref].description}}</h3>

        <h3 ng-show="editorTarget.obj.type==='group'">{{editorTarget.obj.position}}.{{editorTarget.obj.name}}</h3>

        <h3 ng-show="editorTarget.obj.type !='segmentRef' && editorTarget.obj.type !='group'" class="modal-title">
            {{editorTarget.obj.position}} . {{editorTarget.obj.name}} :
            {{editorTarget.title}}</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="row">
                <div class="col-md-12">
                    <textarea rows="10" type="text" ng-disabled="editorTarget.disabled" style="width:100%;" autofocus
                              name="inputEditor" class="form-control"
                              ng-change="recordChanged()"
                              ng-model="editorTarget.obj[editorTarget.key]"></textarea>
                </div>
            </div>
        </form>
    </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-md" ng-click="close()"><span><i class="fa fa-times fa-fw">
            &nbsp; </i>Close</span>
        </button>
    </div>
</script>
