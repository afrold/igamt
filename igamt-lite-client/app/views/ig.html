<style id="antiClickjack">
    body {
        display: none !important;
    }
</style>
<script type="text/javascript">
    if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
        top.location = self.location;
    }
</script>
<div class="container" ng-controller="IGDocumentListCtrl" ng-init="initIGDocuments()">
    <div class="row" ng-show="isAuthenticated()">
        <!--<div class="row">-->
        <div ng-show="!isPending()">
            <!--<div class="page-header">-->
            <!--<h5> Hello, <span ng-bind="getFullName()"></span></h5>-->
            <!--</div>-->
            <br/>

            <tabset>
                <tab active="accordi.igList" select="selectIgTab(0)">
                    <tab-heading>
                        <i class="fa fa-file-text-o fa-fw"></i> IG Documents List
                    </tab-heading>
                    <div ng-include="'views/edit/listIG.html'"></div>
                </tab>
                <tab active="accordi.igDetails" select="selectIgTab(1)" ng-if="igdocument&&igdocument!==null">
                    <tab-heading>
                        <span ng-if="!viewSettings.tableReadonly"> <i  class="fa fa-pencil fa-fw"></i>IG Document</span>
                        <span ng-if="viewSettings.tableReadonly"> <i class="fa fa-search fa-fw"></i>IG Document</span>
                    </tab-heading>
                    <div ng-include="'views/edit/editIG.html'"></div>
                </tab>
            </tabset>

            <!--<accordion close-others="false">-->
            <!--<accordion-group is-open="accordi.igList" panel-class="panel-primary">-->
            <!--<accordion-heading>-->
            <!--<i class="fa" ng-class="{'fa-caret-down': accordi.igList, 'fa-caret-right': !accordi.igList}"></i>-->
            <!--<i class="fa fa-file-text-o fa-fw"></i> IG Documents List-->
            <!--</accordion-heading>-->
            <!--&lt;!&ndash;<div class="panel panel-info">&ndash;&gt;-->
            <!--&lt;!&ndash;<div class="panel-body">&ndash;&gt;-->
            <!--<div ng-include="'views/edit/listIG.html'"></div>-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->
            <!--</accordion-group>-->
            <!--<accordion-group is-open="accordi.igDetails" panel-class="panel-primary">-->
            <!--<accordion-heading>-->
            <!--<i class="fa"-->
            <!--ng-class="{'fa-caret-down': accordi.igDetails, 'fa-caret-right': !accordi.igDetails}"></i>-->
            <!--<i class="fa fa-pencil fa-fw"></i>Edit IG Document : {{igdocument.metaData.title}}-->
            <!--</accordion-heading>-->
            <!--&lt;!&ndash;<div class="panel panel-info">&ndash;&gt;-->
            <!--&lt;!&ndash;<div class="panel-body">&ndash;&gt;-->
            <!--<div ng-include="'views/edit/editIG.html'"></div>-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->
            <!--</accordion-group>-->
            <!--</accordion>-->
        </div>
        <div style="font-size: 18px;text-align: center" ng-show="isPending()">
            <div msg key='account.pendingSection'></div>
        </div>
    </div>
    <div ng-show="!isAuthenticated()" style="font-size: 18px;text-align: center;margin:auto">
        <p>Please <a href="" ng-click="loginReq()"><i class="fa fa-sign-in"></i>&nbsp;login</a> to access this page. You can also <a href="#/registration"><i class="fa fa-chevron-circle-right"></i>&nbsp;register</a></p>
    </div>

<script type="text/ng-template" id="SelectMessagesForExportCtrl.html">
    <div class="page-header">
        <h2 class="modal-title">Export XML</h2>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="row">
                <div class="col-md-12">
                    <h4 class="modal-title">Select Export Format</h4>
                </div>
                <div class="col-md-12">
                    <div class="btn-group btn-group-sm pull-left" data-toggle="buttons">
                        <label class="btn btn-raised btn-primary btn-xs" ng-click="xmlFormat='Validation'"
                               ng-class="{ 'active':xmlFormat==='Validation' }">
                            NIST
                            Validation Format
                        </label>
                        <label class="btn btn-raised btn-primary btn-xs" ng-click="xmlFormat='Display'"
                               ng-class="{ 'active':xmlFormat==='Display' }">
                             NIST
                            Display Format
                        </label>
                        <label class="btn btn-raised btn-primary btn-xs" ng-click="xmlFormat='Gazelle'"
                               ng-class="{ 'active':xmlFormat==='Gazelle' }">
                           Gazelle
                            Format
                        </label>
                    </div>
                </div>
                <div class="col-md-12">
                    <h4 class="modal-title">Select Conformance Profile(s)</h4>

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-fix-header table-condensed conformance-profiles-table">
                            <thead>
                            <tr class="tbl-header">
                                <th style="width:30px">&nbsp;</th>
                                <th style="width:150px">ID</th>
                                <th style="width:300px">Name</th>
                                <th style="width:420px">Description</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="message in igdocumentToSelect.profile.messages.children track by message.id">
                                <td style="width:30px">
                                    <input type="checkbox" ng-model="bool"
                                           ng-change="trackSelections(bool, message.id)">
                                </td>
                                <td style="width:150px">{{message.identifier}}</td>
                                <td style="width:300px">{{message.name}}</td>
                                <td style="width:405px">{{message.description}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm"
                ng-disabled="xmlFormat==='' || xmlFormat===n ull || selectedMessagesIDs===n ull || selectedMessagesIDs.length===0"
                ng-click="exportAsZIPforSelectedMessages()"><span><i class="fa fa-download fa-fw"></i>Export</span>
        </button>
        <button class="btn btn-raised btn-warning btn-sm" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
        <div ng-show="loading" style="text-align:center;padding-top:20px; padding-bottom:20px">
            <img class="ajax-loading" ng-src="images/ajax-loader.gif" alt="loading..."/>
        </div>
    </div>
</script>

<script type="text/ng-template" id="AddHL7TableOpenCtrl.html">
    <div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Import HL7 Tables</span>
        </div>
    </div>
        <div class="modal-body">
            <form class="form-horizontal" novalidate>
                <div class="row">
                    <div class="col-md-12">
                        <div class="btn-group btn-group-sm pull-left" data-toggle="buttons">
                            <label class="btn btn-raised btn-primary btn-xs"
                                   ng-click="selectedHL7Version=v r; loadTablesByVersion(vr)"
                                   ng-class="{ 'active':vr===selectedHL7Version}" ng-repeat="vr in hl7Versions">
                                <input type="radio" ng-value="vr" ng-model="$parent.selectedHL7Version">{{vr}}</input>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-6" ng-show="selectedHL7Version !==''">
                        <div ng-show="loading" style="text-align:center">
                            <i class="fa fa-spinner fa-pulse fa-2x"></i>
                        </div>
                        <div ng-show="!loading" class="igl-table">
                            <h5>Tables for {{source}} {{selectedHL7Version}}</h5>
                            <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                                <thead>
                                <tr>
                                    <th>Binding Identifier</th>
                                    <th>Name</th>
                                    <th/>
                                </tr>
                                <tr>
                                    <th>
                                        <input ng-model="search.bindingIdentifier" class="form-control" placeholder="by id">
                                    </th>
                                    <th>
                                        <input ng-model="search.name" class="form-control" placeholder="by name">
                                    </th>
                                    <th/>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="table in hl7Tables | orderBy: 'bindingIdentifier' | filter:search:strict">
                                    <td>{{table.bindingIdentifier}}</td>
                                    <td>{{table.name}}</td>
                                    <td><a class="pointer" ng-click="addTable(table)"><i class="fa fa-plus fa-fw"></i></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-6" ng-show="selectedTables.length> 0">
                <div class="igl-table">
                    <h5>Selected tables</h5>
                    <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                        <thead>
                            <tr>
                                <th>Binding Identifier</th>
                                <th>Name</th>
                                <th>HL7 Version</th>
                                <th>oid</th>
                                <th/>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="table in selectedTables">
                                <td>{{table.bindingIdentifier}}</td>
                                <td>{{table.name}}</td>
                                <td>{{table.hl7Version}}</td>
                                <td>{{table.oid}}</td>
                                <td><a class="pointer" ng-click="deleteTable(table)"><i
                                            class="fa fa-times fa-fw"></i></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
</div>
</div>
</form>
</div>
<div class="modal-footer">
    <button class="btn btn-raised btn-primary btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="save()"><span><i
                    class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
    <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="cancel()"><span><i
                    class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
    <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length === 0" ng-disabled="loading" ng-click="cancel()"><span><i
                    class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
</div>
</script>

<script type="text/ng-template" id="AddCSVTableOpenCtrl.html">
    <div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Import CSV file</span>
        </div>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="form-group">
                <div class="col-sm-12">
                    <label for="csvValueSetFile" class="custom-file-upload">
                            <i class="fa fa-cloud-upload"></i> Choose CSV File
                        </label>
                    <input id="csvValueSetFile" type="file" name="csvValueSetFile" />
                </div>
            </div>

            <p style="color:blue;">How it works</p>
            <ol style="color:blue;">
                <li style="color:blue;">Download 'ValueSet Empty Form (Excel)'</li>
                <li style="color:blue;">Edit sheets using MS Excel</li>
                <li style="color:blue;">Save as CSV file</li>
                <li style="color:blue;">Import CSV file</li>
            </ol>

            <p style="color:blue;">Files</p>
            <ul>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_EmptyForm_Excel.xlsx" target="_blank"><i class="fa fa-file-excel-o fa-fw"></i>ValueSet Empty Form (Excel)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_EmptyForm_csv.csv" target="_blank"><i class="fa fa-file-code-o fa-fw"></i>ValueSet Empty Form (CSV)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_sample_excel.xlsx" target="_blank"><i class="fa fa-file-excel-o fa-fw"></i>ValueSet Sample Form (Excel)</a></li>
                <li style="color:blue;"><a class="pointer" href="docs/ValueSet_sample_csv.csv" target="_blank"><i class="fa fa-file-code-o fa-fw"></i>ValueSet Sample Form (CSV)</a></li>
            </ul>
        </form>
    </div>
    <div class="modal-footer">
        <p style="color:red;">{{warning}}</p>
        <button class="btn btn-raised btn-primary btn-sm" ng-disabled="fileSelected()" ng-click="uploadCSVFile()"><span><i class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
        <button class="btn btn-raised btn-warning btn-sm" ng-click="cancel()"><span><i class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
    </div>
</script>

<script type="text/ng-template" id="AddPHINVADSTableOpenCtrl.html">
    <div class="modal-header modal-wide">
        <div class="form-inline">
            <span class="header4">Import PHINVADs Tables</span>
        </div>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" novalidate>
            <div class="form-group">
                <div class="col-sm-11">
                    <input type="text" name="searchText" ng-model="searchText" class="form-control" placeholder="Type Criteria">
                </div>
                <div class="col-sm-1">
                    <a ng-click="searchPhinvads(searchText)" class="point">
                        <span><i class="fa fa-search fa-fw"></i></span>
                    </a>
                </div>
            </div>

            <div class="col-md-6">
                <div ng-show="loading" style="text-align:center">
                    <i class="fa fa-spinner fa-pulse fa-2x"></i>
                </div>
                <div ng-show="!loading && phinvadsTables" class="igl-table">
                    <h5>{{phinvadsTables.length}} tables found!</h5>
                    <table ng-show="phinvadsTables.length > 0" class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                        <thead>
                            <tr>
                                <th>Binding Identifier</th>
                                <th>Name</th>
                                <th/>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="table in phinvadsTables | orderBy:'bindingIdentifier' |  filter:search:strict">
                                <td>{{table.bindingIdentifier}}</td>
                                <td>{{table.name}}</td>
                                <td><a class="pointer" ng-click="addTable(table)"><i class="fa fa-plus fa-fw"></i></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-md-6" ng-show="selectedTables.length > 0">
                <div class="igl-table">
                    <h5>Selected tables</h5>
                    <table class="table table-striped table-bordered table-condensed hl7-versions-valueset">
                        <thead>
                            <tr>
                                <th class="col-sm-7">Binding Identifier</th>
                                <th class="col-sm-2">Name</th>
                                <th class="col-sm-2">oid</th>
                                <th class="col-sm-1" />
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="table in selectedTables">
                                <td class="col-sm-7" ng-class="{'has-error': isDuplicatedID(table)}">
                                    <textarea rows="3" class="form-control" ng-model="table.bindingIdentifier" />
                                    <div ng-show="isDuplicatedID(table)">
                                        <p class="warning">Duplicated ID</p>
                                    </div>
                                </td>
                                <td class="col-sm-2">
                                    <textarea rows="3" disabled class="form-control" ng-model="table.name" />
                                </td>
                                <td class="col-sm-2">
                                    <textarea rows="3" disabled class="form-control" ng-model="table.oid" />
                                </td>
                                <td class="col-sm-1"><a class="pointer" ng-click="deleteTable(table)"><i class="fa fa-times fa-fw"></i></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-raised btn-primary btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="save()"><span><i
                class="fa fa-plus fa-fw">&nbsp; </i>Save</span></button>
        <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length > 0" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
        <button class="btn btn-raised btn-warning btn-sm" ng-show="selectedTables.length === 0" ng-disabled="loading" ng-click="cancel()"><span><i
                class="fa fa-times fa-fw">&nbsp; </i>Close</span></button>
    </div>
</script>
</div>
<script type="text/ng-template" id="AddDatatypeDlg.html">
    <div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Import Data Type</h3>
            </div>
            <form name="addDT">
                <div class="modal-body">
                    <div class="container" style="margin-bottom: 20px;margin-top: 20px">
                        <div class="row flavor-seach-box">
                            <!--<p>HL7 Version:{{hl7Version}}</p>-->
                            <div class="input-group">
                                <span class="input-group-addon" id="datatype-basic-addon1"><i class="fa fa-search"></i> Search</span>
                                <input type="text" class="form-control input-lg" ng-model="newDatatype" data-limit="15" data-animation="am-flip-x" data-auto-select="true" typeahead="datatype as datatype.name for datatype in hl7Datatypes|filter:$viewValue" placeholder="Search By Name">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-raised btn-default" type="button" ng-click="cancel()"><i class="fa fa-times fa-fw"></i>Cancel
                    </button>
                    <button class="btn btn-raised btn-primary" type="button" ng-click="ok()" ng-disabled="addDT.$invalid || !isInDts(newDatatype)"><i class="fa fa-check fa-fw"></i>Add
                    </button>
                </div>
            </form>
        </div>
    </div>
</script>
<script type="text/ng-template" id="AddSegmentDlg.html">
    <div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Import Segment</h3>
            </div>

            <form name="addSeg" id="addSeg">
                <div class="modal-body">

                    <div class="container" style="margin-bottom: 20px;margin-top: 20px">
                        <div class="row flavor-seach-box">
                            <!--<p>HL7 Version:{{hl7Version}}</p>-->

                            <div class="input-group" style="padding-bottom:5px;"  align="center" data-toggle="buttons">
                                <span class="input-group-addon" id="version-basic-addon1">HL7 Versions</span>
                                <select ng-model="version1" class="form-control col-md-3" ng-change="setVersion(version1)">
                                        <option ng-repeat="vr in versions" value='{{vr}}'> {{vr}}</option>
                                    </select>
                                       
                                       
                                   
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon" id="segment-basic-addon1"><i class="fa fa-search"></i> Search</span>
                                <input type="text" class="form-control input-lg" ng-model="newSegment" data-limit="15" data-animation="am-flip-x" data-auto-select="true" typeahead="segment as segment.name for segment in hl7Segments|filter:$viewValue" placeholder="Search By Name">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-raised btn-default" type="button" ng-click="cancel()"><i class="fa fa-times fa-fw"></i>
                        Cancel
                    </button>
                    <button class="btn btn-raised btn-primary" type="button" ng-click="ok()" ng-disabled="addSeg.$invalid || !isInSegs(newSegment)"><i class="fa fa-check"></i>Add
                    </button>
                </div>
            </form>
        </div>
    </div>
</script>