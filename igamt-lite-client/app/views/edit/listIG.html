<style id="antiClickjack">
    body {
        display: none !important;
    }
</style>
<script type="text/javascript">
    if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
        top.location = self.location;
    }
</script>
<div class="row">
    <md-tabs md-dynamic-height md-border-bottom>
        <md-tab  ng-repeat="tt in igDocumentTypes" md-on-select="selectIGDocumentType(tt.type);make_active($index)" md-active="tabs[$index].active">
            <md-tab-label>
                <i class="fa fa-file-text-o fa-fw"></i> {{::tt.name}}

            </md-tab-label>
            <md-tab-body>
                <div class="container ig-menu-bar"  style="margin-top: 20px;margin-buttom: 20px" layout="row">

                    <span class="material-icons" style="font-size: 42px;">search</span>
                    <md-input-container flex style="margin: 0px !important" layout="row">

                        <input type="search"  flex="100" ng-model="search.metaData.title"  style="border-bottom-color: white;color: white;"/>

                    </md-input-container>


                     <md-menu-bar  flex="20">
                       <md-menu class="pull-right">
                        <button type="button" ng-controller="HL7VersionsDlgCtrl" class="white-color"
                         ng-click="create('btn')" >
                         <i class="fa fa-plus"></i> Create New IG Document
                         </button>
                       </md-menu>
                    </md-menu-bar>

                </div>

                    <div ng-show="error === null">

                                <div class="" style="min-height: 800px;">

                                    <md-content class= "container">
                                            <mdlist flex dnd-list="tmpIgs" class="container" style="padding: 39px; margin-top: 12px;">
                                                <md-list-item ng-repeat="row in tmpIgs |filter:search" layout="row" dnd-draggable="row"
                                                              dnd-moved="tmpIgs.splice($index, 1);orderIgs(tmpIgs)"
                                                              dnd-effect-allowed="move" style="border-bottom: 0.5px solid;padding: 18px; border-bottom: 0.1px solid;
                                                              padding: 0px;
                                                              overflow-x: hidden;
                                                              overflow-y: scroll;

                                                              border-bottom-color: #d2d2d2;">




                                                                    <img ng-src="{{row.metaData.coverPicture}}" style="max-height: 150px; cursor:move" class="md-avatar"/>


                                                    <div flex class="md-list-item-text" layout="column" style="margin-left: 5px; max-width: 100%">

                                                        <span class="md-headline ig-title">{{row.metaData.title}}
                                                        </span>
                                                            <div class="md-subhead" flex layout="row" layout-align="start start">
                                                                <div flex="40" class="ig-list-info">
                                                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                                                             Updated {{row.dateUpdated | date:dateFormat}}
                                                                            <span>,HL7 Version: {{row.profile.metaData.hl7Version}}</span>
                                                                </div>


                                                                <div flex="60" layout="row" layout-align="end end" style="margin-top:-14px;">
                                                                                    <!--<md-button ng-if="igDocumentConfig.selectedType === 'USER'" md-colors="{background:'blue'}"-->
                                                                                               <!--aria-label="Edit IG Document" type="button"-->
                                                                                               <!--ng-click="edit(row)" class="buttonForIgList">-->
                                                                                        <!--<span><i class="fa fa-pencil fa-fw"></i></span>-->
                                                                                    <!--</md-button>-->
                                                                                    <!--<md-button aria-label="View IG Document" type="button" md-colors="{background:'grey'}"-->
                                                                                               <!--ng-click="view(row)" class="buttonForIgList">-->
                                                                                        <!--<span><i class="fa fa-eye fa-fw"></i></span>-->
                                                                                    <!--</md-button>-->
                                                                                    <!--<md-button aria-label="Create Copy of IG Document" type="button" md-colors="{background:'light-blue'}"-->
                                                                                               <!--ng-click="clone(row);selectIGDocumentType('USER')" class="buttonForIgList">-->
                                                                                        <!--<span style="color:white"><i class="fa fa-plus fa-fw"></i></span>-->
                                                                                    <!--</md-button>-->
                                                                                    <!--<md-button aria-label="Delete IG Document" type="button"-->
                                                                                               <!--ng-if="igDocumentConfig.selectedType === 'USER'" md-colors="{background:'red'}"-->
                                                                                               <!--ng-click="confirmDelete(row)" class="buttonForIgList">-->
                                                                                        <!--<span><i class="fa fa-trash-o fa-fw"></i></span>-->
                                                                                    <!--</md-button>-->
                                                                                        <!--<md-button  ng-if="row.comment === 'PENDING_APPROVAL'" aria-label="Approve Share Document" type="button"-->
                                                                                                   <!--ng-click="confirmShareDocument(row)" md-colors="{background:'blue'}" class="buttonForIgList">-->
                                                                                    <!--<span><i class="fa fa-check fa-fw"-->
                                                                                             <!--aria-hidden="true"></i></span>-->
                                                                                        <!--</md-button>-->
                                                                                        <!--<md-button ng-if="row.comment === 'PENDING_APPROVAL'"  aria-label="Reject Share Document" type="button" md-colors="{background:'blue-grey'}"-->
                                                                                                   <!--ng-click="rejectShareDocument(row)" class="buttonForIgList">-->
                                                                                    <!--<span><i class="fa fa-times fa-fw"-->
                                                                                             <!--aria-hidden="true"></i></span>-->
                                                                                        <!--</md-button>-->

                                                                        <span ng-click="edit(row)" style="color:blue"  ><i class="fa fa-pencil fa-fw igList-icons"></i></span>

                                                                        <span  ng-click="view(row)" style="color:grey"><i class="fa fa-eye fa-fw igList-icons"></i></span>

                                                                        <span ng-click="clone(row);selectIGDocumentType('USER')" style="color:lightblue"><i class="fa fa-plus fa-fw igList-icons"></i></span>

                                                                        <span ng-if="igDocumentConfig.selectedType === 'USER'"  style="color:red"><i class="fa fa-trash-o fa-fw igList-icons"></i></span>

                                                                    <span  ng-click="confirmShareDocument(row)"  ng-if="row.comment === 'PENDING_APPROVAL'"  style="color:gray"><i class="fa fa-check fa-fw igList-icons"
                                                                                             aria-hidden="true"></i></span>

                                                                    <span ng-if="row.comment === 'PENDING_APPROVAL'"  ng-click="rejectShareDocument(row)" style="color:lightgrey"><i class="fa fa-times fa-fw igList-icons"
                                                                                             aria-hidden="true"></i></span>

                                                                </div>
												             </div>



                                                        <div flex layout="row" layout-align="start start">
                                                            <label flex="10" style="color: black; " class="label-list" >Conformance Profiles</label>
                                                            <div flex="90">

                                                                <label style="color:black; margin-right: 20px; font-size:13px; font-weight: normal" ng-repeat="cp in row.profile.messages.children">{{cp.name}}</label>
                                                            </div>




                                                        </div>
                                                        <div flex layout="row" ng-if="row.shareParticipants&&row.shareParticipants.length>0">
                                                            <h5 flex="10">Participants</h5>
                                                            <md-chips flex="90" ng-model="row.shareParticipants"
                                                                      readonly="chipsReadOnly" md-removable="false"
                                                                      class="md-primary">
                                                                <md-chip-template>
														       <span style="font-size: 9px">
														           <strong> {{$chip.fullname}}</strong>

                                                               </span>
                                                                </md-chip-template>

                                                            </md-chips>


                                                        </div>


                                                    </div>
                                                </md-list-item>



                                                <md-list-item class="dndPlaceholder"
                                                              style="min-height: 60px; width: 100%;background-color: #0b3e6f ;color:white">


                                                    <strong> Drop Here </strong>
                                                    <!--</td>-->
                                                    <!--</tr>-->
                                                </md-list-item>
                                            </mdlist>


                                    </md-content>
                                </div>
                            </div>




            </md-tab-body>
        </md-tab>
        </md-tabs>


</div>

<script type="text/ng-template" id="shareRowTemplate.html">
    <div class="triangle"></div>
    <div style="z-index: 99999" class="cp-tooltip">
        <div class="col-md-12" class="cp-tooltip" ng-if="row.shareParticipants.length > 0">
            <h5>Participants</h5>
            <ul class="cp-tooltip">
                <li ng-repeat="participant in row.shareParticipants track by participant"> {{participant.username}}
                    ({{participant.fullname}})
                </li>
            </ul>
            <br/></div>
        <div class="col-md-12" class="cp-tooltip" ng-if="row.shareParticipants.length === 0">
            Document not shared
        </div>
    </div>
</script>
<script type="text/ng-template" id="templateRow.html">
    <div class="triangle"></div>
    <div style="z-index: 99999" class="cp-tooltip">
        <div class="col-md-12" class="cp-tooltip">
            <h5>Conformance Profiles</h5>
            <ul class="cp-tooltip">
                <li ng-repeat="msg in row.profile.messages.children track by msg.id"> {{msg.name}}</li>
            </ul>
            <br/></div>
    </div>
</script>