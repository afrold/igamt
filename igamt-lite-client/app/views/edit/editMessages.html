<style id="antiClickjack">
body {
	display: none !important;
}
</style>
<script type="text/javascript">
	if (self === top) {
		var antiClickjack = document.getElementById("antiClickjack");
		antiClickjack.parentNode.removeChild(antiClickjack);
	} else {
		top.location = self.location;
	}
</script>
<script type="text/ng-template" id="EditMessages.html">
    <div ng-controller="MessageListCtrl" ng-init="init()">
        <div ng-show="loadingSelection" style="text-align: center;">
            <i class="fa fa-spinner fa-pulse fa-align-center fa-2x"></i>
        </div>
        <div ng-show="!loadingSelection">
            <div ng-show="message !== null" id="executionPanel">

                <form name="messageForm" novalidate class="form-horizontal">

                    <div class="page-header">
                        <span class="header4 pull-left">Message: {{message.identifier}}</span>
                            <span class="pull-right">
						<button title="Create Copy" type="button" class="btn btn-xs btn-info"
                                ng-disabled='!messageForm.$valid' ng-click="copy(message)" ng-hide="options.readonly">
                            <span><i class="fa fa-plus-circle fa-fw"></i>Copy</span>
                        </button>
        				<button title="Delete" type="button" ng-hide="options.readonly" class="btn btn-xs btn-danger"
                                ng-disabled='!message' ng-click="delete(message)">
                            <span><i class="fa fa-trash-o fa-fw">&nbsp; </i>Delete</span>
                        </button>
    				</span>
                     </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="page-header">
                                <span class="header4">MetaData</span>
                            </div>

                            <div class="col-md-12">
                                <div class="col-md-2 col-margin">
                                    <div class="form-group"
                                         ng-class="{'igl-has-error' : messageForm.identifier.$invalid}">
                                        <label class="control-label">Identifier</label>
                                        <input type="text"
                                               ng-change="recordChanged()"
                                               name="identifier"
                                               class="form-control"
                                               ng-model="message.identifier"
                                               ng-disabled="options.readonly"
                                               required>
                                    </div>
                                </div>
                                <div class="col-md-2 col-margin">
                                    <div class="form-group"
                                         ng-class="{'igl-has-error' : messageForm.name.$invalid}">
                                        <label class="control-label">Name</label>
                                        <input
                                                class="form-control"
                                                type="text"
                                                disabled name="name"
                                                ng-change="recordChanged()"
                                                ng-model="message.name"
                                                ng-disabled="options.readonly">

                                    </div>
                                </div>
                                <div class="col-md-2 col-margin">
                                    <div class="form-group"
                                         ng-class="{'igl-has-error' : messageForm.description.$invalid}">
                                        <label class="control-label">Description</label>
                                        <input
                                                class="form-control"
                                                type="text"
                                                name="description"
                                                ng-change="recordChanged()"
                                                ng-model="message.description"
                                                ng-disabled="options.readonly">
                                    </div>
                                </div>
                                <div class="col-md-2 col-margin">
                                    <div class="form-group"
                                         ng-class="{'igl-has-error' : messageForm.comment.$invalid}">
                                        <label class="control-label">Comment</label> <input
                                            class="form-control" type="text"
                                            name="comment"
                                            ng-change="recordChanged()"
                                            ng-disabled="options.readonly"
                                            ng-model="message.comment">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">

                                <div class="col-md-2 col-margin">
                                    <div class="form-group"
                                         ng-class="{'igl-has-error' : messageForm.messageOId.$invalid}">
                                        <label class="control-label">Message OID</label>
                                        <input type="text" disabled name="messageOId" class="form-control"
                                               ng-model="message.messageID" required>
                                    </div>
                                </div>

                                <div class="col-md-2 col-margin">
                                    <div class="form-group"
                                         ng-class="{'igl-has-error' : messageForm.messageType.$invalid}">
                                        <label class="control-label">Message Type</label>
                                        <input type="text" disabled name="messageType" class="form-control"
                                               ng-model="message.messageType" required>
                                    </div>
                                </div>

                                <div class="col-md-2 col-margin">
                                    <div class="form-group"
                                         ng-class="{'igl-has-error' : messageForm.messageEvent.$invalid}">
                                        <label class="control-label">Message Event</label>
                                        <input type="text" disabled name="messageEvent" class="form-control"
                                               ng-model="message.event" required>
                                    </div>
                                </div>

                                <div class="col-md-2 col-margin">
                                    <div class="form-group"
                                         ng-class="{'igl-has-error' : messageForm.messageStructID.$invalid}">
                                        <label class="control-label">Message StructID</label>
                                        <input type="text" disabled name="messageStructID" class="form-control"
                                               ng-model="message.structID" required>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row col-margin" style="margin-top:20px">
                            <div class="col-md-12">
                                <div class="page-header">
                                    <span class="header4">Definition</span>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <table tt-table tt-params="messagesParams"
                                       class="table table-striped table-bordered table-fix-header table-condensed profile-table">
                                    <thead>
                                    <tr class="tbl-header" style="margin-right: {{scrollbarWidth}}px;">
                                        <th class="col-xs-2 col-fixed-250">Name</th>
                                        <th class="col-xs-1 col-fixed-80">Usage</th>
                                        <th class="col-xs-1 col-fixed-100">Cardinality</th>
                                        <th class="col-xs-1 col-fixed-100">Length</th>
                                        <th class="col-xs-1 col-fixed-80">ConfLength</th>
                                        <th class="col-xs-1 col-fixed-100">Datatype</th>
                                        <th class="col-xs-1 col-fixed-130">ValueSet</th>
                                        <th class="col-xs-1" ng-style="predWidth">Predicate</th>
                                        <th class="col-xs-1" ng-style="csWidth">Conformance Statement</th>
                                        <th class="col-xs-1 col-fixed-80">Def.Text</th>
                                        <th class="col-xs-1" ng-style="commentWidth">Comment</th>
                                    </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
					</div>
                </form>
            </div>
        </div>
    </div>
</script>

<script type="text/ng-template" id="MessageEditTree.html">
    <tr tt-node is-branch="hasChildren(node.obj)">
        <td class="col-xs-2 col-fixed-250">
            <span>{{node.obj.event}}^{{node.obj.structID}}:{{node.obj.description}}</span>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-130">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="predWidth">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="csWidth">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="commentWidth">
            <div>-</div>
        </td>
    </tr>
</script>

<script type="text/ng-template" id="MessageSegmentRefEditTree.html">
    <tr tt-node is-branch="hasChildren(node.obj)">
        <td class="col-xs-2 col-fixed-250">
            <img style="width:15px; height:15px"
                 ng-src="images/segment.png">
            <a ng-click="goToSegment(node.obj.ref)" class="point"
               tooltip-html="getSegmentRefNodeName(node.obj)" tooltip-append-to-body="true"
               tooltip-class="constraints-tooltip" ng-bind-html="getSegmentRefNodeName(node.obj)" tooltip-trigger
               tooltip-animation="false" tooltip-placement="left"
                    ></a>
        </td>
        <td class="col-xs-1 col-fixed-80">
			<div>
                <span ng-show="node.obj.usage !== 'C'  || (node.obj.usage === 'C' && countPredicate(node.path) === 0)">
                	<select class="form-control input-sm" name="usage" ng-change="recordChanged()" required 
						ng-model="node.obj.usage" ng-options="usage for usage in config.usages" />
                </span>
				<div ng-show="node.obj.usage === 'C' && countPredicate(node.path) !== 0">
					<p ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
                   		C({{constraint.trueUsage}}/{{constraint.falseUsage}})
                	</p>
				</div>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div ng-controller="MessageRowCtrl">
                                            <span ng-form name="{{formName}}">
                                                <input style="width:45%" class="form-control"
                                                       name="min"
                                                       ng-change="recordChanged()"
                                                       ng-pattern="/^\d+$/"
                                                       ng-class="{ 'has-error' : {{formName}}.min.$invalid}"
                                                       ng-model="node.obj.min" required ng-minlength="1">
                                                <input style="width:45%" class="form-control" type="text"
                                                       name="max"
                                                       ng-change="recordChanged()"
                                                       ng-class="{ 'has-error' : {{formName}}.max.$invalid}"
                                                       ng-pattern="/^\d+$|^\*?$/"
                                                       ng-model="node.obj.max" required>
                                            </span>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-130">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="predWidth">
			<div>
                <div ng-show="countPredicate(node.path) === 0 && node.obj.usage === 'C'">
					<a ng-click="managePredicate(node, message)" class="point">
                		<span><i class="fa fa-plus fa-fw"></i></span>
						<p class="warning">Need predicate</p>
                	</a>
                </div>
				<div ng-show="countPredicate(node.path) !== 0 && node.obj.usage === 'C'">
					<div ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
                    	<a ng-click="managePredicate(node, message)"
                       		tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
                       		tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
                       		tooltip-animation="false" tooltip-placement="left"></a>
                	</div>
				</div>
            </div>
        </td>

        <td class="col-xs-1" ng-style="csWidth">
			<div>
				<div ng-repeat="constraint in filteredConstraints  = (message.conformanceStatements | filter:{constraintTarget:node.path}:true)">
                    <a ng-click="manageConformanceStatement(node, message)"
                       tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
                       tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
                       tooltip-animation="false" tooltip-placement="left"></a>
                </div>
				<div ng-hide="filteredConstraints.length">
					<a ng-click="manageConformanceStatement(node, message)" class="point">
                		<span><i class="fa fa-plus fa-fw"></i></span>
                	</a>
				</div>
			</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="commentWidth">
            <div>
                <a ng-show="node.obj.comment === '' || node.obj.comment === null"
                   ng-click="openInputTextDlg(node.obj, 'comment', 'Comment', false)" class="point">
                    <i class="fa fa-plus fa-fw"></i>
                </a>
                <a class="point" ng-click="openInputTextDlg(node.obj, 'comment','Comment', false)"
                   tooltip-html="node.obj.comment" tooltip-append-to-body="true"
                   tooltip-class="constraints-tooltip"
                   tooltip-trigger tooltip-animation="false" tooltip-placement="left"
                   ng-show="node.obj.comment !== '' && node.obj.comment !== null" ng-bind="node.obj.comment"></a>
            </div>
        </td>
    </tr>
</script>

<script type="text/ng-template" id="MessageGroupEditTree.html">
    <tr tt-node is-branch="hasChildren(node.obj)">
        <td class="col-xs-2 col-fixed-250">
        	<span>
            	<img style="width:15px; height:15px" ng-src="images/group.png"/>
            	<span
                	tooltip-html="getGroupNodeName(node.obj)"
                	tooltip-append-to-body="true"
                	tooltip-class="constraints-tooltip"
                	ng-bind-html="getGroupNodeName(node.obj)" tooltip-trigger
                	tooltip-animation="false" tooltip-placement="left"/>
            </span>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>
                <span ng-show="node.obj.usage !== 'C'  || (node.obj.usage === 'C' && countPredicate(node.path) === 0)">
                	<select class="form-control input-sm" name="usage" ng-change="recordChanged()" required 
						ng-model="node.obj.usage" ng-options="usage for usage in config.usages" />
                </span>
				<div ng-show="node.obj.usage === 'C' && countPredicate(node.path) !== 0">
					<p ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
                   		C({{constraint.trueUsage}}/{{constraint.falseUsage}})
                	</p>
				</div>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div
                    ng-controller="MessageRowCtrl">
                                            <span ng-form name="{{formName}}">
                                                <input style="width:45%" class="form-control"
                                                       name="min"
                                                       ng-change="recordChanged()"
                                                       ng-pattern="/^\d+$/"
                                                       ng-class="{ 'has-error' : {{formName}}.min.$invalid}"
                                                       ng-model="node.obj.min" required ng-minlength="1">
                                                <input style="width:45%" class="form-control" type="text"
                                                       name="max"
                                                       ng-change="recordChanged()"
                                                       ng-class="{ 'has-error' : {{formName}}.max.$invalid}"
                                                       ng-pattern="/^\d+$|^\*?$/"
                                                       ng-model="node.obj.max" required>
                                            </span>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-130">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="predWidth">
			<div>
                <div ng-show="countPredicate(node.path) === 0 && node.obj.usage === 'C'">
					<a ng-click="managePredicate(node, message)" class="point">
                		<span><i class="fa fa-plus fa-fw"></i></span>
						<p class="warning">Need predicate</p>
                	</a>
                </div>
				<div ng-show="countPredicate(node.path) !== 0 && node.obj.usage === 'C'">
					<div ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
                    	<a ng-click="managePredicate(node, message)"
                       		tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
                       		tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
                       		tooltip-animation="false" tooltip-placement="left"></a>
                	</div>
				</div>
            </div>
        </td>

        <td class="col-xs-1" ng-style="csWidth">
			<div>
				<div ng-repeat="constraint in filteredConstraints  = (message.conformanceStatements | filter:{constraintTarget:node.path}:true)">
                    <a ng-click="manageConformanceStatement(node, message)"
                       tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
                       tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
                       tooltip-animation="false" tooltip-placement="left"></a>
                </div>
				<div ng-hide="filteredConstraints.length">
					<a ng-click="manageConformanceStatement(node, message)" class="point">
                		<span><i class="fa fa-plus fa-fw"></i></span>
                	</a>
				</div>
			</div>
        </td>

        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>

        <td class="col-xs-1" ng-style="commentWidth">
            <div>
                <a ng-show="node.obj.comment === '' || node.obj.comment === null" class="point"
                   ng-click="openInputTextDlg(node.obj, 'comment', 'Comment', false)">
                    <i class="fa fa-plus fa-fw"></i>
                </a>
                <a class="point" ng-click="openInputTextDlg(node.obj, 'comment','Comment', false)"
                   tooltip-html="node.obj.comment" tooltip-append-to-body="true"
                   tooltip-class="constraints-tooltip"
                   tooltip-trigger tooltip-animation="false" tooltip-placement="left"
                   ng-show="node.obj.comment !== '' && node.obj.comment !== null" ng-bind="node.obj.comment"></a>
            </div>
        </td>
    </tr>
</script>

<script type="text/ng-template" id="MessageFieldViewTree.html">
    <tr tt-node is-branch="hasChildren(node.obj)">
        <td class="col-xs-2 col-fixed-250">
            <img style="width:15px; height:15px" ng-src="images/{{node.obj.type}}.png">
            <span
                    tooltip-html="getFieldNodeName(node.obj)" tooltip-append-to-body="true"
                    tooltip-class="constraints-tooltip" ng-bind-html="getFieldNodeName(node.obj)" tooltip-trigger
                    tooltip-animation="false" tooltip-placement="left"
                    ></span>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>
                <span>{{node.obj.usage}}</span>
				<span ng-repeat="p in parentsMap[node.obj.id].predicates | filter:{constraintTarget:node.obj.position + '[1]'}:true">
					({{p.trueUsage}}/{{p.falseUsage}})
				</span>
				<span ng-repeat="p in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
					({{p.trueUsage}}/{{p.falseUsage}})
				</span>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>
                <span>[{{node.obj.min}},{{node.obj.max}}]</span>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>
                <span>[{{node.obj.minLength}},{{node.obj.maxLength}}]</span>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <span>{{node.obj.confLength}}</span>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <a class="point"
               ng-click="goToDatatype(datatypesMap[node.obj.datatype])">{{datatypesMap[node.obj.datatype].label}}</a>
        </td>
        <td class="col-xs-1 col-fixed-130">
            <div>
				<span ng-show="node.obj.table != undefined && node.obj.table != null">
					<a class="point" ng-click="goToTable(tablesMap[node.obj.table])">{{tablesMap[node.obj.table].bindingIdentifier}}</a>
                </span>
            </div>
        </td>
        <td class="col-xs-1" ng-style="predWidth">
			<div>
				<div ng-show="options.readonly">
					<p ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)"
               				tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
               				tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
               				tooltip-animation="false" tooltip-placement="left">
            		</p>
				</div>
				<div ng-hide="options.readonly">
					<div ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
						<a ng-click="managePredicate(node, message)"
                       		tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
                       		tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
                       		tooltip-animation="false" tooltip-placement="left"></a>
					</div>
					<div ng-hide="filteredConstraints.length || filteredSubConstraints.length || options.readonly || node.obj.usage !== 'C'">
						<a ng-click="managePredicate(node, message)" class="point">
                			<span><i class="fa fa-plus fa-fw"></i></span>
							<p class="warning">Need predicate</p>
                		</a>
					</div>
				</div>

				<p ng-repeat="constraint in filteredSubConstraints = (parentsMap[node.obj.id].predicates | filter:{constraintTarget:node.obj.position + '[1]'}:true)"
               		tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
               		tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
               		tooltip-animation="false" tooltip-placement="left">
            	</p>
			</div>
        </td>
        <td class="col-xs-1" ng-style="csWidth">
			<div>
				<div ng-show="options.readonly">
					<p ng-repeat="constraint in filteredConstraints  = (message.conformanceStatements | filter:{constraintTarget:node.path}:true)"
               				tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
               				tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
               				tooltip-animation="false" tooltip-placement="left">
            		</p>
				</div>

				<div ng-hide="options.readonly">
					<div ng-repeat="constraint in filteredConstraints  = (message.conformanceStatements | filter:{constraintTarget:node.path}:true)">
						<a ng-click="manageConformanceStatement(node, message)"
                       		tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
                       		tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
                       		tooltip-animation="false" tooltip-placement="left"></a>
					</div>
					<div ng-hide="filteredConstraints.length || options.readonly">
						<a ng-click="manageConformanceStatement(node, message)" class="point">
                			<span><i class="fa fa-plus fa-fw"></i></span>
                		</a>
					</div>
				</div>

				<p ng-repeat="constraint in parentsMap[node.obj.id].conformanceStatements | filter:{constraintTarget:node.obj.position + '[1]'}:true"
               		tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
               		tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
               		tooltip-animation="false" tooltip-placement="left">
            	</p>
			</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="commentWidth">
            <div tooltip-html="node.obj.comment" tooltip-append-to-body="true"
                 tooltip-class="constraints-tooltip"
                 tooltip-trigger tooltip-animation="false" tooltip-placement="left">
            </div>
        </td>
    </tr>
</script>

<script type="text/ng-template" id="MessageComponentViewTree.html">
    <tr tt-node is-branch="hasChildren(node.obj)">
        <td class="col-xs-2 col-fixed-250">
        	<span>
            	<img ng-show="!isSubDT(node.obj)" style="width:15px; height:15px" ng-src="images/{{node.obj.type}}.png"/>
                <img ng-show="isSubDT(node.obj)" style="width:15px; height:15px" ng-src="images/subcomponent.png"/>
                <span
                        tooltip-html="getComponentNodeName(node.obj)" tooltip-append-to-body="true"
                        tooltip-class="constraints-tooltip" ng-bind-html="getComponentNodeName(node.obj)" tooltip-trigger
                        tooltip-animation="false" tooltip-placement="left">
				</span>
            </span>
        </td>
        <td class="col-xs-1 col-fixed-80">
			<div>
                <span>{{node.obj.usage}}</span>
				<span ng-repeat="p in parentsMap[node.obj.id].predicates | filter:{constraintTarget:node.obj.position + '[1]'}:true">
					({{p.trueUsage}}/{{p.falseUsage}})
				</span>
				<span ng-repeat="p in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
					({{p.trueUsage}}/{{p.falseUsage}})
				</span>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>
                -
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>
                [{{node.obj.minLength}},{{node.obj.maxLength}}]
            </div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div ng-bind="node.obj.confLength">
            </div>
        </td>

        <td class="col-xs-1 col-fixed-100">
            <a class="point"
               ng-click="goToDatatype(datatypesMap[node.obj.datatype])">{{datatypesMap[node.obj.datatype].label}}</a>
        </td>
        <td class="col-xs-1 col-fixed-130">
            <div>
				<span ng-show="node.obj.table != undefined && node.obj.table != null">
					<a class="point" ng-click="goToTable(tablesMap[node.obj.table])">{{tablesMap[node.obj.table].bindingIdentifier}}</a>
                </span>
            </div>
        </td>
        <td class="col-xs-1" ng-style="predWidth">
			<div>
				<div ng-show="options.readonly">
					<p ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)"
               				tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
               				tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
               				tooltip-animation="false" tooltip-placement="left">
            		</p>
				</div>
				<div ng-hide="options.readonly">
					<div ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
						<a ng-click="managePredicate(node, message)"
                       		tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
                       		tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
                       		tooltip-animation="false" tooltip-placement="left"></a>
					</div>
					<div ng-hide="filteredConstraints.length || filteredSubConstraints.length || options.readonly || node.obj.usage !== 'C'">
						<a ng-click="managePredicate(node, message)" class="point">
                			<span><i class="fa fa-plus fa-fw"></i></span>
							<p class="warning">Need predicate</p>
                		</a>
					</div>
				</div>

				<p ng-repeat="constraint in filteredSubConstraints = (parentsMap[node.obj.id].predicates | filter:{constraintTarget:node.obj.position + '[1]'}:true)"
               		tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
               		tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
               		tooltip-animation="false" tooltip-placement="left">
            	</p>
			</div>
        </td>
        <td class="col-xs-1" ng-style="csWidth">
			<div>
				<div ng-show="options.readonly">
					<p ng-repeat="constraint in filteredConstraints  = (message.conformanceStatements | filter:{constraintTarget:node.path}:true)"
               				tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
               				tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
               				tooltip-animation="false" tooltip-placement="left">
            		</p>
				</div>

				<div ng-hide="options.readonly">
					<div ng-repeat="constraint in filteredConstraints  = (message.conformanceStatements | filter:{constraintTarget:node.path}:true)">
						<a ng-click="manageConformanceStatement(node, message)"
                       		tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
                       		tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
                       		tooltip-animation="false" tooltip-placement="left"></a>
					</div>
					<div ng-hide="filteredConstraints.length || options.readonly">
						<a ng-click="manageConformanceStatement(node, message)" class="point">
                			<span><i class="fa fa-plus fa-fw"></i></span>
                		</a>
					</div>
				</div>

				<p ng-repeat="constraint in parentsMap[node.obj.id].conformanceStatements  | filter:{constraintTarget:node.obj.position + '[1]'}:true"
               		tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
               		tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
               		tooltip-animation="false" tooltip-placement="left">
            	</p>
			</div>
        </td>

        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="commentWidth">
            <div tooltip-html="node.obj.comment" tooltip-append-to-body="true"
                 tooltip-class="constraints-tooltip"
                 tooltip-trigger tooltip-animation="false" tooltip-placement="left"></div>
        </td>
    </tr>
</script>

<script type="text/ng-template" id="PredicateMessageCtrl.html">
<div class="modal-header">
	<div ng-show="selectedNode.obj.type === 'segmentRef'">
		<h3 class="modal-title">Predicate for {{segmentsMap[selectedNode.obj.ref].name}}({{selectedNode.path}})</h3>
	</div>
	<div ng-hide="selectedNode.obj.type === 'segmentRef'">
		<h3 class="modal-title">Predicate for {{selectedNode.obj.name}}({{selectedNode.path}})</h3>
	</div>
</div>

<div class="modal-body">
<form role="form">
<h5>Predicate</h5>
<div class="table-responsive">
    <table class="table table-striped table-bordered">
        <thead>
        <tr class="tbl-header">
            <th class="col-xs-8">Condition</th>
            <th class="col-xs-1">True Usage</th>
            <th class="col-xs-1">False Usage</th>
            <th class="col-xs-1">Classification</th>
            <th class="col-xs-1"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="constraint in message.predicates | filter: {constraintTarget: selectedNode.path}:true">
            <td class="col-xs-8">{{constraint.description}}</td>
            <td class="col-xs-1">{{constraint.trueUsage}}</td>
            <td class="col-xs-1">{{constraint.falseUsage}}</td>
			<td class="col-xs-1">{{constraint.constraintClassification}}</td>
            <td class="col-xs-1">
                <a ng-click="deletePredicate(constraint)" class="point">
                    <span><i class="fa fa-times fa-fw"></i></span>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<h5>Define new predicate</h5>

<label class="control-label" for="constraintTypeSelect">Constraint Type: </label>
<select name="constraintTypeSelect" ng-model="constraintType">
    <option value="Complex">Complex</option>
    <option value="Plain">Plain</option>
</select>

<div class="table-responsive">
    <table class="table table-striped table-bordered">
        <thead>
        <tr class="tbl-header">
			<th class="col-xs-8" colspan="4">Condition</th>
            <th class="col-xs-1" colspan="1" rowspan="2">True Usage</th>
            <th class="col-xs-1" colspan="1" rowspan="2">False Usage</th>
            <th class="col-xs-1" colspan="1" rowspan="2">Classification</th>
            <th class="col-xs-1" colspan="1" rowspan="2"></th>
        </tr>
        <tr class="tbl-header">
            <th class="col-xs-2" colspan="1">Node</th>
            <th class="col-xs-2" colspan="1">Verb</th>
            <th class="col-xs-2" colspan="1">Constraint</th>
            <th class="col-xs-2" colspan="1">Value</th>
        </tr>
        </thead>
        <tbody>
        <tr>
			<td class="col-xs-2" colspan="1">
                <span>{{newConstraint.location_1}}</span>
				<span ng-show="newConstraint.childNodes_1 != null && newConstraint.childNodes_1.length > 0">
					<select name="child" class="form-control"
                    	ng-change="updateLocation1()"
                    	ng-model="newConstraint.currentNode_1"
                    	ng-options="child as child.name for child in newConstraint.childNodes_1"/>
				</span>
            </td>

			<td class="col-xs-2" colspan="1">
                <select name="verb" class="form-control"
                        ng-change=""
                        ng-model="newConstraint.verb"
                        ng-options="constraintVerb for constraintVerb in config.constraintVerbs">
                </select>
            </td>

			<td class="col-xs-2" colspan="1">
                <select name="contraintType" class="form-control"
                        ng-change=""
                        ng-model="newConstraint.contraintType"
                        ng-options="contraintType for contraintType in config.constraintTypes">
                </select>
            </td>

			<td class="col-xs-2" colspan="1">
                								<span ng-show="newConstraint.contraintType == 'a literal value' || 
															   newConstraint.contraintType == 'equal to' ||
															   newConstraint.contraintType == 'not-equal to' ||
															   newConstraint.contraintType == 'greater than' ||
															   newConstraint.contraintType == 'equal to or greater than' ||
															   newConstraint.contraintType == 'less than' ||
															   newConstraint.contraintType == 'equal to or less than'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" type="text"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'one of list values'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" placeholder="CSV Value"
                                                           type="text"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'formatted value'">
                									<select name="format" class="form-control"
                                                            ng-model="newConstraint.value"
                                                            ng-options="predefinedFormat for predefinedFormat in config.predefinedFormats"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'identical to another node' ||
															   newConstraint.contraintType == 'equal to another node' ||
															   newConstraint.contraintType == 'not-equal to another node' ||
															   newConstraint.contraintType == 'greater than another node' ||
															   newConstraint.contraintType == 'equal to or greater than another node' ||
															   newConstraint.contraintType == 'less than another node' ||
															   newConstraint.contraintType == 'equal to or less than another node'">
													<span>{{newConstraint.location_2}}</span>
													<span ng-show="newConstraint.childNodes_2 != null && newConstraint.childNodes_2.length > 0">
														<select name="child" class="form-control"
                                                                ng-change="updateLocation2()"
                                                                ng-model="newConstraint.currentNode_2"
                                                                ng-options="child as child.name for child in newConstraint.childNodes_2"/>
													</span>
                								</span>
												<span ng-show="newConstraint.contraintType == 'one of codes in ValueSet'">
                									<span>ValueSet ID: </span>
													<select name="valueSetId" class="form-control"
                                                            ng-model="newConstraint.valueSetId">
                                                        <option ng-repeat="table in tables|orderBy:'+bindingIdentifier'"
                                                                value="{{table.bindingIdentifier}}">
                                                            {{table.bindingIdentifier}}
                                                        </option>
                                                    </select>
													<br/>
													<span>BindingStrength: </span>
													<select name="bindingStrength" class="form-control"
                                                            ng-model="newConstraint.bindingStrength">
                                                        <option value="R">R</option>
                                                        <option value="S">S</option>
                                                        <option value="U">U</option>
                                                    </select>
													<br/>
													<span>BindingLocation: </span>
													<input class="form-control" ng-model="newConstraint.bindingLocation"
                                                           type="text"/>
                								</span>
            </td>
           

            <td class="col-xs-1" colspan="1">
                <select name="trueUsage" class="form-control" ng-model="newConstraint.trueUsage"
                        ng-options="usage for usage in config.usages"/>
            </td>

            <td class="col-xs-1" colspan="1">
                <select name="falseUsage" class="form-control" ng-model="newConstraint.falseUsage"
                        ng-options="usage for usage in config.usages"/>
            </td>
            
			<td class="col-xs-1" colspan="1">
                <select ng-model="newConstraint.constraintClassification">
                    <option value="E">Error</option>
                    <option value="W">Warning</option>
                    <option value="A">Alert</option>
                    /select>
            </td>
         
            <td class="col-xs-1" colspan="1">
                <a ng-click="initPredicate()" class="point">
                    <span><i class="fa fa-times fa-fw"></i></span>
                </a>
                <a ng-click="addPredicate()" class="point">
                    <span><i class="fa fa-plus fa-fw"></i></span>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<div class="table-responsive">
    <table ng-show="constraintType == 'Complex'" class="table table-striped table-bordered">
        <thead>
        <tr class="tbl-header">
            <th class="col-md-1">ID</th>
            <th class="col-md-8">Desciption</th>
            <th class="col-md-1">True Usage</th>
            <th class="col-md-1">False Usage</th>
            <th class="col-md-1"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="p in newComplexConstraint">
            <td class="col-md-1">{{p.constraintId}}</td>
            <td class="col-md-8">{{p.description}}</td>
            <td class="col-md-1">{{p.trueUsage}}</td>
            <td class="col-md-1">{{p.falseUsage}}</td>
            <td class="col-md-1">
                <a ng-click="deletePredicateForComplex(p)" class="point">
                    <span><i class="fa fa-minus fa-fw"></i></span>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<div class="table-responsive">
    <table ng-show="constraintType == 'Complex'" class="table table-striped table-bordered">
        <tbody>
        <tr>
            <td class="col-md-2">Merge Two Constraints:</td>
            <td class="col-md-9">
                <span>First Constraint: </span>
                <select ng-show="constraintType == 'Complex'"
                        name="firstConstraintSelect"
                        ng-model="firstConstraint"
                        ng-options="constraint as constraint.constraintId for constraint in newComplexConstraint">
                </select>

                <span>Second Constraint: </span>
                <select name="secondConstraintSelect"
                        ng-model="secondConstraint"
                        ng-options="constraint as constraint.constraintId for constraint in newComplexConstraint">
                </select>

                <span>Composite Type: </span>
                <select name="compositeTypeSelect" ng-model="compositeType">
                    <option value="AND">AND</option>
                    <option value="OR">OR</option>
                </select>
            </td>
            <td class="col-md-1">
                <a ng-click="compositeConformanceStatements()" class="point">
                    <span><i class="fa fa-link fa-fw"></i></span>
                </a>
            </td>
        </tr>
        <tr>
            <td class="col-md-2">Add Complex Constraint:</td>
            <td class="col-md-9">
                <span>Complex Constraint: </span>
                <select name="complexConstraintSelect"
                        ng-model="complexConstraint"
                        ng-options="constraint as constraint.constraintId for constraint in newComplexConstraint">
                </select>
                <span>Constraint Classification: </span>
                <select ng-model="newComplexConstraintClassification">
                    <option value="E">Error</option>
                    <option value="W">Warning</option>
                    <option value="A">Alert</option>
                </select>
            </td>
            <td class="col-md-1">
                <a ng-click="addComplexConformanceStatement()" class="point">
                    <span><i class="fa fa-plus fa-fw"></i></span>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</form>
</div>

<div class="modal-footer">
    <button class="btn btn-primary" ng-click="ok()">
        <span><i class="fa fa-times fa-fw">&nbsp; </i>Close</span>
    </button>
</div>
</script>

<script type="text/ng-template" id="ConformanceStatementMessageCtrl.html">
<div class="modal-header">
	<div ng-show="selectedNode.obj.type === 'segmentRef'">
		<h3 class="modal-title">Conformance statement for {{segmentsMap[selectedNode.obj.ref].name}}({{selectedNode.path}})</h3>
	</div>
	<div ng-hide="selectedNode.obj.type === 'segmentRef'">
		<h3 class="modal-title">Conformance statement for {{selectedNode.obj.name}}({{selectedNode.path}})</h3>
	</div>
</div>

<div class="modal-body">
<form role="form">
<h5>List of conformance statements</h5>
<div class="table-responsive">
    <table class="table table-striped table-bordered">
        <thead>
        <tr class="tbl-header">
            <th class="col-xs-2">ID</th>
            <th class="col-xs-7">Desciption</th>
            <th class="col-xs-2">Classification</th>
            <th class="col-xs-1"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="constraint in message.conformanceStatements | filter: {constraintTarget: selectedNode.path}:true">
            <td class="col-xs-2">{{constraint.constraintId}}</td>
            <td class="col-xs-7">{{constraint.description}}</td>
            <td class="col-md-2">{{constraint.constraintClassification}}</td>
            <td class="col-xs-1">
                <a ng-click="deleteConformanceStatement(constraint)" class="point">
                    <span><i class="fa fa-times fa-fw"></i></span>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<h5>Define new conformance statement</h5>

<label class="control-label" for="constraintTypeSelect">Constraint Type: </label>
<select name="constraintTypeSelect" ng-model="constraintType">
    <option value="Complex">Complex</option>
    <option value="Plain">Plain</option>
</select>

<div class="table-responsive">
<table class="table table-striped table-bordered">
<thead>
<tr class="tbl-header">
    <th class="col-xs-2" colspan="1" rowspan="2">ID</th>
    <th class="col-xs-8" colspan="4">Desciption</th>
    <th class="col-xs-1" colspan="1" rowspan="2">Classification</th>
    <th class="col-xs-1" colspan="1" rowspan="2"></th>
</tr>
<tr class="tbl-header">
    <th class="col-xs-2" colspan="1">Node</th>
    <th class="col-xs-2" colspan="1">Verb</th>
    <th class="col-xs-2" colspan="1">Constraint</th>
    <th class="col-xs-2" colspan="1">Value</th>
</tr>
</thead>

<tbody>
<tr>
    <td class="col-xs-2" colspan="1">
        <input style="width:100%" class="form-control" ng-model="newConstraint.constraintId" placeholder="Type ID" type="text"/>
    </td>

    <td class="col-xs-2" colspan="1">
        <span>{{newConstraint.location_1}}</span>
												<span ng-show="newConstraint.childNodes_1 != null && newConstraint.childNodes_1.length > 0">
													<select name="child" class="form-control"
                                                            ng-change="updateLocation1()"
                                                            ng-model="newConstraint.currentNode_1"
                                                            ng-options="child as child.name for child in newConstraint.childNodes_1"/>
												</span>
    </td>

    <td class="col-xs-2" colspan="1">
        <select name="verb" class="form-control"
                ng-change=""
                ng-model="newConstraint.verb"
                ng-options="constraintVerb for constraintVerb in config.constraintVerbs">
        </select>
    </td>

    <td class="col-xs-2" colspan="1">
        <select name="contraintType" class="form-control"
                ng-change=""
                ng-model="newConstraint.contraintType"
                ng-options="contraintType for contraintType in config.constraintTypes">
        </select>
    </td>

    <td class="col-xs-2" colspan="1">
                								<span ng-show="newConstraint.contraintType == 'a literal value'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" placeholder="Literal Value"
                                                           type="text"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'one of list values'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" placeholder="CSV Value"
                                                           type="text"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'formatted value'">
                									<select name="format" class="form-control"
                                                            ng-model="newConstraint.value"
                                                            ng-options="predefinedFormat for predefinedFormat in config.predefinedFormats"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'identical to another node'">
													<span>{{newConstraint.location_2}}</span>
													<span ng-show="newConstraint.childNodes_2 != null && newConstraint.childNodes_2.length > 0">
														<select name="child" class="form-control"
                                                                ng-change="updateLocation2()"
                                                                ng-model="newConstraint.currentNode_2"
                                                                ng-options="child as child.name for child in newConstraint.childNodes_2"/>
													</span>
                								</span>

												<span ng-show="newConstraint.contraintType == 'equal to another node'">
													<span>{{newConstraint.location_2}}</span>
													<span ng-show="newConstraint.childNodes_2 != null && newConstraint.childNodes_2.length > 0">
														<select name="child" class="form-control"
                                                                ng-change="updateLocation2()"
                                                                ng-model="newConstraint.currentNode_2"
                                                                ng-options="child as child.name for child in newConstraint.childNodes_2"/>
													</span>
                								</span>
										
												<span ng-show="newConstraint.contraintType == 'not-equal to another node'">
													<span>{{newConstraint.location_2}}</span>
													<span ng-show="newConstraint.childNodes_2 != null && newConstraint.childNodes_2.length > 0">
														<select name="child" class="form-control"
                                                                ng-change="updateLocation2()"
                                                                ng-model="newConstraint.currentNode_2"
                                                                ng-options="child as child.name for child in newConstraint.childNodes_2"/>
													</span>
                								</span>
	
												<span ng-show="newConstraint.contraintType == 'greater than another node'">
													<span>{{newConstraint.location_2}}</span>
													<span ng-show="newConstraint.childNodes_2 != null && newConstraint.childNodes_2.length > 0">
														<select name="child" class="form-control"
                                                                ng-change="updateLocation2()"
                                                                ng-model="newConstraint.currentNode_2"
                                                                ng-options="child as child.name for child in newConstraint.childNodes_2"/>
													</span>
                								</span>

												<span ng-show="newConstraint.contraintType == 'equal to or greater than another node'">
													<span>{{newConstraint.location_2}}</span>
													<span ng-show="newConstraint.childNodes_2 != null && newConstraint.childNodes_2.length > 0">
														<select name="child" class="form-control"
                                                                ng-change="updateLocation2()"
                                                                ng-model="newConstraint.currentNode_2"
                                                                ng-options="child as child.name for child in newConstraint.childNodes_2"/>
													</span>
                								</span>

												<span ng-show="newConstraint.contraintType == 'less than another node'">
													<span>{{newConstraint.location_2}}</span>
													<span ng-show="newConstraint.childNodes_2 != null && newConstraint.childNodes_2.length > 0">
														<select name="child" class="form-control"
                                                                ng-change="updateLocation2()"
                                                                ng-model="newConstraint.currentNode_2"
                                                                ng-options="child as child.name for child in newConstraint.childNodes_2"/>
													</span>
                								</span>

												<span ng-show="newConstraint.contraintType == 'equal to or less than another node'">
													<span>{{newConstraint.location_2}}</span>
													<span ng-show="newConstraint.childNodes_2 != null && newConstraint.childNodes_2.length > 0">
														<select name="child" class="form-control"
                                                                ng-change="updateLocation2()"
                                                                ng-model="newConstraint.currentNode_2"
                                                                ng-options="child as child.name for child in newConstraint.childNodes_2"/>
													</span>
                								</span>
												
												<span ng-show="newConstraint.contraintType == 'equal to'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" type="text"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'not-equal to'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" type="text"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'greater than'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" type="text"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'equal to or greater than'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" type="text"/>
                								</span>
											
												<span ng-show="newConstraint.contraintType == 'less than'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" type="text"/>
                								</span>

												<span ng-show="newConstraint.contraintType == 'equal to or less than'">
                									<input style="width:100%" class="form-control"
                                                           ng-model="newConstraint.value" type="text"/>
                								</span>
						
												<span ng-show="newConstraint.contraintType == 'one of codes in ValueSet'">
                									<span>ValueSet ID: </span>
													<select name="valueSetId" class="form-control"
                                                            ng-model="newConstraint.valueSetId">
                                                        <option ng-repeat="table in tables|orderBy:'+bindingIdentifier'"
                                                                value="{{table.bindingIdentifier}}">
                                                            {{table.bindingIdentifier}}
                                                        </option>
                                                    </select>
													<br/>
													<span>BindingStrength: </span>
													<select name="bindingStrength" class="form-control"
                                                            ng-model="newConstraint.bindingStrength">
                                                        <option value="R">R</option>
                                                        <option value="S">S</option>
                                                        <option value="U">U</option>
                                                    </select>
													<br/>
													<span>BindingLocation: </span>
														<input class="form-control"
                                                               ng-model="newConstraint.bindingLocation" type="text"/>
                									</span>
    </td>

    <td class="col-md-1" colspan="1">
        <select ng-model="newConstraint.constraintClassification">
            <option value="E">Error</option>
            <option value="W">Warning</option>
            <option value="A">Alert</option>
        </select>
    </td>

    <td class="col-xs-1" colspan="1">
        <a ng-click="initConformanceStatement()" class="point">
            <span><i class="fa fa-times fa-fw"></i></span>
        </a>
        <a ng-click="addConformanceStatement()" class="point">
            <span><i class="fa fa-plus fa-fw"></i></span>
        </a>
    </td>
</tr>
</tbody>
</table>
</div>






<div class="table-responsive">
    <table ng-show="constraintType == 'Complex'" class="table table-striped table-bordered">
        <thead>
        <tr class="tbl-header">
            <th class="col-md-2">Plain Constraint ID</th>
            <th class="col-md-9">Desciption</th>
            <th class="col-md-1"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="c in newComplexConstraint">
            <td class="col-md-2">{{c.constraintId}}</td>
            <td class="col-md-9">{{c.description}}</td>
            <td class="col-md-1">
                <a ng-click="deleteConformanceStatementForComplex(c)" class="point">
                    <span><i class="fa fa-minus fa-fw"></i></span>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<div class="table-responsive">
    <table ng-show="constraintType == 'Complex'" class="table table-striped table-bordered">
        <tbody>
        <tr>
            <td class="col-md-2">Merge Two Constraints:</td>
            <td class="col-md-9">
                <span>First Constraint: </span>
                <select ng-show="constraintType == 'Complex'"
                        name="firstConstraintSelect"
                        ng-model="firstConstraint"
                        ng-options="constraint as constraint.constraintId for constraint in newComplexConstraint">
                </select>

                <span>Second Constraint: </span>
                <select name="secondConstraintSelect"
                        ng-model="secondConstraint"
                        ng-options="constraint as constraint.constraintId for constraint in newComplexConstraint">
                </select>

                <span>Composite Type: </span>
                <select name="compositeTypeSelect" ng-model="compositeType">
                    <option value="AND">AND</option>
                    <option value="OR">OR</option>
                    <option value="IFTHEN">IFTHEN</option>
                </select>
            </td>
            <td class="col-md-1">
                <a ng-click="compositeConformanceStatements()" class="point">
                    <span><i class="fa fa-link fa-fw"></i></span>
                </a>
            </td>
        </tr>
        <tr>
            <td class="col-md-2">Add Complex Constraint:</td>
            <td class="col-md-9">
                <span>Complex Constraint ID: </span>
           		<input ng-model="newComplexConstraintId" type="text"/>
                <span>Complex Constraint: </span>
                <select name="complexConstraintSelect" ng-model="complexConstraint" ng-options="constraint as constraint.constraintId for constraint in newComplexConstraint"/>
                <span>Constraint Classification: </span>
                <select ng-model="newComplexConstraintClassification">
                    <option value="E">Error</option>
                    <option value="W">Warning</option>
                    <option value="A">Alert</option>
                </select>
            </td>
            <td class="col-md-1">
                <a ng-click="addComplexConformanceStatement()" class="point">
                    <span><i class="fa fa-plus fa-fw"></i></span>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>


</form>
</div>

<div class="modal-footer">
    <button class="btn btn-primary" ng-click="ok()">
        <span><i class="fa fa-times fa-fw">&nbsp; </i>Close</span>
    </button>
</div>
</script>

<script type="text/ng-template" id="MessageReadTree.html">
    <tr tt-node is-branch="hasChildren(node.obj)">
        <td class="col-xs-2 col-fixed-250">
            <span>{{::node.obj.event}}^{{::node.obj.structID}}:{{::node.obj.description}}</span>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>

        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>

        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>

        <td class="col-xs-1 col-fixed-130">
            <div>-</div>
        </td>

        <td class="col-xs-2" ng-style="predWidth">
            <div>-</div>
        </td>
        <td class="col-xs-3" ng-style="csWidth">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1" ng-style="commentWidth">
            <div>-</div>
        </td>
    </tr>
</script>

<script type="text/ng-template" id="MessageSegmentRefReadTree.html">
    <tr tt-node is-branch="hasChildren(node.obj)">
        <td class="col-xs-2 col-fixed-250">
            <img style="width:15px; height:15px"
                 ng-src="images/segment.png">
            <a
                    tooltip-html="getGroupNodeName(node.obj)" tooltip-append-to-body="true"
                    class="point"
                    ng-click="goToSegment(node.obj.ref)"
                    tooltip-class="constraints-tooltip" ng-bind-html="getSegmentRefNodeName(node.obj)" tooltip-trigger
                    tooltip-animation="false" tooltip-placement="left"
                    ></a>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <span ng-bind="node.obj.usage"></span>
			<span ng-repeat="p in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
					({{p.trueUsage}}/{{p.falseUsage}})
			</span>
        </td>
        <td class="col-xs-1 col-fixed-100">
            [{{::node.obj.min}}, {{::node.obj.max}}]
        </td>

        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-130">
            <div>-</div>
        </td>


        <td class="col-xs-2" ng-style="predWidth">
			<div>
				<p ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)"
               		tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
               		tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
               		tooltip-animation="false" tooltip-placement="left">
            	</p>
			</div>
        </td>

        <td class="col-xs-3" ng-style="csWidth">
            <div>
				<p ng-repeat="constraint in filteredConstraints  = (message.conformanceStatements | filter:{constraintTarget:node.path}:true)"
               		tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
               		tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
               		tooltip-animation="false" tooltip-placement="left">
            	</p>
			</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>

        <td class="col-xs-1" ng-style="commentWidth">
                 <span ng-show="node.obj.comment !== '' && node.obj.comment !== null"
                       tooltip-html="node.obj.comment" tooltip-append-to-body="true"
                       tooltip-class="constraints-tooltip"
                       tooltip-trigger tooltip-animation="false" tooltip-placement="left"
                       ng-bind="node.obj.comment"></span>
        </td>
    </tr>
</script>

<script type="text/ng-template" id="MessageGroupReadTree.html">
    <tr tt-node is-branch="hasChildren(node.obj)">
        <td class="col-xs-2 col-fixed-250">
                                        <span>

                                            <img style="width:15px; height:15px"
                                                 ng-src="images/group.png">
                                              <span
                                                      tooltip-html="getGroupNodeName(node.obj)"
                                                      tooltip-append-to-body="true"
                                                      tooltip-class="constraints-tooltip"
                                                      ng-bind-html="getGroupNodeName(node.obj)" tooltip-trigger
                                                      tooltip-animation="false" tooltip-placement="left"
                                                      ></span>
                                        </span>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>
                <span ng-bind="node.obj.usage"></span>
				<span ng-repeat="p in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)">
					({{p.trueUsage}}/{{p.falseUsage}})
				</span>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            [{{::node.obj.min}}, {{::node.obj.max}}]
        </td>


        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-100">
            <div>-</div>
        </td>
        <td class="col-xs-1 col-fixed-130">
            <div>-</div>
        </td>

        <td class="col-xs-1" ng-style="predWidth">
            <div>
				<p ng-repeat="constraint in filteredConstraints  = (message.predicates | filter:{constraintTarget:node.path}:true)"
               		tooltip-html="getPredicateAsString(constraint)" tooltip-append-to-body="true"
               		tooltip-class="constraints-tooltip" ng-bind-html="getPredicateAsString(constraint)" tooltip-trigger
               		tooltip-animation="false" tooltip-placement="left">
            	</p>
			</div>
        </td>

        <td class="col-xs-1" ng-style="csWidth">
            <div>
                <p ng-repeat="constraint in filteredConstraints  = (message.conformanceStatements | filter:{constraintTarget:node.path}:true)"
               		tooltip-html="getConformanceStatementAsString(constraint)" tooltip-append-to-body="true"
               		tooltip-class="constraints-tooltip" ng-bind-html="getConformanceStatementAsString(constraint)" tooltip-trigger
               		tooltip-animation="false" tooltip-placement="left">
            	</p>
            </div>
        </td>
        <td class="col-xs-1 col-fixed-80">
            <div>-</div>
        </td>

        <td class="col-xs-1" ng-style="commentWidth">
                 <span ng-show="node.obj.comment !== '' && node.obj.comment !== null"
                       tooltip-html="node.obj.comment" tooltip-append-to-body="true"
                       tooltip-class="constraints-tooltip"
                       tooltip-trigger tooltip-animation="false" tooltip-placement="left"
                       ng-bind="node.obj.comment"></span>
        </td>
    </tr>
</script>