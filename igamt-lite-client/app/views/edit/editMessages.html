<div ng-controller="MessageListCtrl" ng-init="init()">
    <div class="row">
        <div class="page-header">
            <h3>Messages</h3>
        </div>
        <div>
            <table st-table="messages"
                   class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th></th>
                    <th>Type</th>
                    <th>Event</th>
                    <th>Struct ID</th>
                    <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr st-select-row="row" st-select-mode="single" ng-repeat="row in messages">
                    <td cs-select="row"><input ng-click="select(row)" type="radio"></td>
                    <td ng-bind="row.type"></td>
                    <td ng-bind-html="row.event"></td>
                    <td ng-bind-html="row.structID"></td>
                    <td ng-bind-html="row.description"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div ng-controller="MessageEditCtrl" ng-show="message !== null" ng-init="init()">
    <div class="row">
        <div class="page-header">
            <h3>Message: {{message.type}}^{{message.event}}^{{message.structID}}</h3>
        </div>
        <div>
            <div class="row" style="margin-top: 20px">
                <table tt-table tt-params="params" class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Usage</th>
                        <th>Cardinality</th>
                        <th>Ref</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <script type="text/ng-template" id="MessageEditTree.html">
                    <tr tt-node is-branch="node.children != null && node.children.length > 0">
                        <td style="width:40%">
                            <span><span class="badge" ng-if="node.type === 'segment'">S</span> <span>{{segmentsMap[node.id].label}}</span></span>
                             <span><span class="badge" ng-if="node.type === 'group'">G</span> <span ng-bind="node.name"/></span>
                        </td>
                        <td><span ng-bind="node.usage"></span></td>
                        <td><span>[{{node.minOccurs}}, {{node.maxOccurs}}]</span></td>
                        <td><span>{{segmentsMap[node.id].label}}</span></td>
                    </tr>
                </script>
            </div>

        </div>

    </div>
</div>